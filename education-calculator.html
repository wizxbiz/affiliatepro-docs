<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéì Education Hub Pro - ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #3498db, #2c3e50);
            --secondary-gradient: linear-gradient(135deg, #e74c3c, #c0392b);
            --success-gradient: linear-gradient(135deg, #27ae60, #219653);
            --warning-gradient: linear-gradient(135deg, #f39c12, #e67e22);
            --dark-gradient: linear-gradient(135deg, #2c3e50, #34495e);
            --light-gradient: linear-gradient(135deg, #ecf0f1, #bdc3c7);
            
            --shadow-light: 0 8px 25px rgba(0,0,0,0.08);
            --shadow-medium: 0 15px 35px rgba(0,0,0,0.12);
            --shadow-heavy: 0 20px 40px rgba(0,0,0,0.2);
            
            --radius-sm: 12px;
            --radius-md: 20px;
            --radius-lg: 30px;
            
            --transition-fast: 0.2s ease;
            --transition-normal: 0.4s ease;
            --transition-slow: 0.6s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Sarabun', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #2c3e50;
            overflow-x: hidden;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: linear-gradient(to bottom, #ecf0f1, #bdc3c7);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-gradient);
            border-radius: 10px;
            box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #2980b9, #2c3e50);
        }
        
        /* Header with Parallax */
        .parallax-header {
            background: url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80') center center / cover no-repeat fixed;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            margin-bottom: 3rem;
            box-shadow: var(--shadow-heavy);
        }
        
        .parallax-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.85), rgba(44, 62, 80, 0.9));
            z-index: 1;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: white;
            padding: 0 20px;
        }
        
        .header-content h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            letter-spacing: 1px;
        }
        
        .header-content p {
            font-size: 1.3rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Floating Home Button */
        .home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-medium);
            z-index: 1000;
            transition: all var(--transition-normal);
            color: #3498db;
            text-decoration: none;
            font-size: 1.5rem;
        }
        
        .home-btn:hover {
            transform: scale(1.1) rotate(360deg);
            box-shadow: var(--shadow-heavy);
            color: #2980b9;
        }
        
        /* Enhanced Cards */
        .card-custom {
            background: white;
            border-radius: var(--radius-md);
            border: none;
            box-shadow: var(--shadow-light);
            transition: all var(--transition-normal);
            overflow: hidden;
            position: relative;
            margin-bottom: 2rem;
            height: 100%;
        }
        
        .card-custom::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--primary-gradient);
            transition: width var(--transition-normal);
        }
        
        .card-custom:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-medium);
        }
        
        .card-custom:hover::before {
            width: 8px;
        }
        
        .card-header-custom {
            background: white;
            border-bottom: 2px solid #ecf0f1;
            padding: 1.5rem 2rem;
            font-weight: 700;
            color: #2c3e50;
            border-radius: var(--radius-md) var(--radius-md) 0 0 !important;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .card-header-custom i {
            font-size: 1.5rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .card-body-custom {
            padding: 2rem;
        }
        
        /* Enhanced Tabs */
        .nav-tabs-custom {
            border: none;
            background: white;
            border-radius: var(--radius-lg);
            padding: 10px;
            box-shadow: var(--shadow-light);
            margin-bottom: 3rem;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }
        
        .nav-tabs-custom .nav-link {
            border: none;
            border-radius: var(--radius-md);
            padding: 1rem 2rem;
            color: #7f8c8d;
            font-weight: 600;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .nav-tabs-custom .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--primary-gradient);
            transition: left var(--transition-normal);
            z-index: -1;
        }
        
        .nav-tabs-custom .nav-link.active {
            color: white;
            box-shadow: var(--shadow-light);
        }
        
        .nav-tabs-custom .nav-link.active::before {
            left: 0;
        }
        
        .nav-tabs-custom .nav-link:hover:not(.active) {
            background: #ecf0f1;
            transform: translateY(-3px);
        }
        
        /* Enhanced Forms */
        .form-control-custom {
            border: 2px solid #dfe6e9;
            border-radius: var(--radius-sm);
            padding: 0.75rem 1.25rem;
            font-size: 1rem;
            transition: all var(--transition-fast);
            background: #f8f9fa;
        }
        
        .form-control-custom:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);
            background: white;
            transform: scale(1.02);
        }
        
        .form-label-custom {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        /* Enhanced Buttons */
        .btn-custom-primary {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: var(--radius-md);
            font-weight: 600;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-light);
            position: relative;
            overflow: hidden;
        }
        
        .btn-custom-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }
        
        .btn-custom-primary:hover::before {
            left: 100%;
        }
        
        .btn-custom-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
        }
        
        .btn-custom-secondary {
            background: var(--secondary-gradient);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: var(--radius-md);
            font-weight: 600;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-light);
        }
        
        .btn-custom-secondary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
            color: white;
        }
        
        /* Result Boxes */
        .result-box-custom {
            background: linear-gradient(135deg, #eaf5ff, #d6eaf8);
            border-radius: var(--radius-sm);
            padding: 2rem;
            margin-top: 2rem;
            border-left: 6px solid #3498db;
            box-shadow: var(--shadow-light);
            animation: fadeInResult 0.5s ease;
        }
        
        .result-box-custom.hidden {
            display: none;
        }
        
        @keyframes fadeInResult {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-value-custom {
            font-size: 3rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            margin-bottom: 0.5rem;
        }
        
        .result-unit-custom {
            font-size: 1.2rem;
            color: #7f8c8d;
            font-weight: 500;
        }
        
        /* Progress Indicators */
        .progress-custom {
            height: 8px;
            background-color: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .progress-bar-custom {
            background: var(--primary-gradient);
            height: 100%;
            border-radius: 10px;
            transition: width 1s ease;
        }
        
        /* Grade Visualizer */
        .grade-visualizer {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            gap: 10px;
        }
        
        .grade-bar {
            flex: 1;
            text-align: center;
            padding: 1rem;
            border-radius: var(--radius-sm);
            background: #ecf0f1;
            transition: all var(--transition-normal);
            cursor: pointer;
        }
        
        .grade-bar:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-light);
        }
        
        .grade-bar.grade-a { background: linear-gradient(135deg, #27ae60, #2ecc71); color: white; }
        .grade-bar.grade-b { background: linear-gradient(135deg, #3498db, #2980b9); color: white; }
        .grade-bar.grade-c { background: linear-gradient(135deg, #f39c12, #f1c40f); color: white; }
        .grade-bar.grade-d { background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; }
        .grade-bar.grade-f { background: linear-gradient(135deg, #7f8c8d, #95a5a6); color: white; }
        
        /* Dashboard Widgets */
        .dashboard-widget {
            background: white;
            border-radius: var(--radius-md);
            padding: 2rem;
            box-shadow: var(--shadow-light);
            text-align: center;
            transition: all var(--transition-normal);
            height: 100%;
        }
        
        .dashboard-widget:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-medium);
        }
        
        .widget-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2.5rem;
            color: white;
        }
        
        .widget-1 .widget-icon { background: var(--primary-gradient); }
        .widget-2 .widget-icon { background: var(--secondary-gradient); }
        .widget-3 .widget-icon { background: var(--success-gradient); }
        .widget-4 .widget-icon { background: var(--warning-gradient); }
        
        /* Chart Container */
        .chart-container {
            background: white;
            border-radius: var(--radius-md);
            padding: 2rem;
            box-shadow: var(--shadow-light);
            margin-bottom: 2rem;
        }
        
        /* Footer */
        .footer-custom {
            background: var(--dark-gradient);
            color: white;
            padding: 3rem 0 2rem;
            margin-top: 5rem;
            border-top-left-radius: var(--radius-lg);
            border-top-right-radius: var(--radius-lg);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content h1 {
                font-size: 2.5rem;
            }
            
            .nav-tabs-custom .nav-link {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }
            
            .result-value-custom {
                font-size: 2.5rem;
            }
        }
        
        /* Particle Background */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        /* Loading Animation */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .spinner-custom {
            width: 60px;
            height: 60px;
            border: 5px solid #ecf0f1;
            border-top-color: #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Badge System */
        .badge-custom {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .badge-success { background: var(--success-gradient); color: white; }
        .badge-warning { background: var(--warning-gradient); color: white; }
        .badge-danger { background: var(--secondary-gradient); color: white; }
        .badge-info { background: var(--primary-gradient); color: white; }
    </style>
</head>
<body>
    <!-- Particles Background -->
    <div id="particles-js"></div>
    
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner-custom"></div>
    </div>
    
    <!-- Floating Home Button -->
    <a href="calculator.html" class="home-btn animate__animated animate__fadeInLeft" title="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">
        <i class="fas fa-home"></i>
    </a>
    
    <!-- Parallax Header -->
    <div class="parallax-header">
        <div class="header-content">
            <h1 class="animate__animated animate__fadeInDown">üéì Education Hub Pro</h1>
            <p class="animate__animated animate__fadeInUp animate__delay-1s">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á | ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô</p>
        </div>
    </div>
    
    <div class="container">
        <!-- Dashboard Widgets -->
        <div class="row mb-5">
            <div class="col-md-3 col-sm-6">
                <div class="dashboard-widget widget-1 animate__animated animate__fadeInLeft">
                    <div class="widget-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3><span id="totalCalculations">0</span>+</h3>
                    <p>‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="dashboard-widget widget-2 animate__animated animate__fadeInLeft animate__delay-1s">
                    <div class="widget-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3><span id="activeUsers">0</span>+</h3>
                    <p>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="dashboard-widget widget-3 animate__animated animate__fadeInRight animate__delay-1s">
                    <div class="widget-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h3><span id="toolsCount">15</span>+</h3>
                    <p>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="dashboard-widget widget-4 animate__animated animate__fadeInRight">
                    <div class="widget-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3><span id="accuracyRate">99.8</span>%</h3>
                    <p>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</p>
                </div>
            </div>
        </div>
        
        <!-- Navigation Tabs -->
        <ul class="nav nav-tabs-custom" id="educationTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="gpa-tab" data-bs-toggle="tab" data-bs-target="#gpa" type="button">
                    <i class="fas fa-star"></i> GPA & ‡πÄ‡∏Å‡∏£‡∏î
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="science-tab" data-bs-toggle="tab" data-bs-target="#science" type="button">
                    <i class="fas fa-flask"></i> ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="math-tab" data-bs-toggle="tab" data-bs-target="#math" type="button">
                    <i class="fas fa-square-root-alt"></i> ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="finance-tab" data-bs-toggle="tab" data-bs-target="#finance" type="button">
                    <i class="fas fa-coins"></i> ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="stats-tab" data-bs-toggle="tab" data-bs-target="#stats" type="button">
                    <i class="fas fa-chart-bar"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ & ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tools-tab" data-bs-toggle="tab" data-bs-target="#tools" type="button">
                    <i class="fas fa-tools"></i> ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                </button>
            </li>
        </ul>
        
        <!-- Tab Content -->
        <div class="tab-content" id="educationTabContent">
            
            <!-- 1. GPA Calculator (Enhanced) -->
            <div class="tab-pane fade show active" id="gpa" role="tabpanel">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-chart-line"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (GPA Calculator Pro)</span>
                                <div>
                                    <span class="badge-custom badge-info">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢</span>
                                    <span class="badge-custom badge-success">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°</span>
                                </div>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-4">
                                    <label class="form-label-custom">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
                                    <div class="d-flex gap-3">
                                        <button class="btn btn-custom-primary" onclick="setGpaSystem('university')">
                                            <i class="fas fa-university"></i> ‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢ (4.0)
                                        </button>
                                        <button class="btn btn-custom-secondary" onclick="setGpaSystem('highschool')">
                                            <i class="fas fa-school"></i> ‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (5.0)
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="subjectsContainerPro" class="mb-4">
                                    <!-- Dynamic subjects will be added here -->
                                </div>
                                
                                <div class="d-flex justify-content-between mb-4">
                                    <button class="btn btn-custom-primary" onclick="addSubjectPro()">
                                        <i class="fas fa-plus-circle"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤
                                    </button>
                                    <button class="btn btn-outline-danger" onclick="clearAllSubjects()">
                                        <i class="fas fa-trash-alt"></i> ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                                    </button>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label-custom">GPA ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</label>
                                            <input type="number" class="form-control-custom" id="targetGPA" min="0" max="4" step="0.01" placeholder="‡πÄ‡∏ä‡πà‡∏ô 3.50">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <button class="btn btn-custom-primary w-100 h-100" onclick="calculateGPAPro()">
                                            <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì GPA
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Results -->
                                <div class="result-box-custom" id="gpaResultPro">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-4">
                                                <div class="result-value-custom" id="gpaValuePro">0.00</div>
                                                <div class="result-unit-custom">‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (GPA)</div>
                                                <div class="progress-custom mt-3">
                                                    <div class="progress-bar-custom" id="gpaProgress" style="width: 0%"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <h5><i class="fas fa-chart-pie"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h5>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <div class="text-center p-2 bg-light rounded">
                                                            <div class="h4 text-primary" id="totalCreditsPro">0</div>
                                                            <small>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï‡∏£‡∏ß‡∏°</small>
                                                        </div>
                                                    </div>
                                                    <div class="col-6">
                                                        <div class="text-center p-2 bg-light rounded">
                                                            <div class="h4 text-success" id="totalPointsPro">0</div>
                                                            <small>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Grade Distribution -->
                                    <div class="mt-4">
                                        <h5><i class="fas fa-chart-bar"></i> ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÄ‡∏Å‡∏£‡∏î</h5>
                                        <div class="grade-visualizer">
                                            <div class="grade-bar grade-a" onclick="showGradeInfo('A')">
                                                <div class="h5">A</div>
                                                <div id="gradeACount">0</div>
                                            </div>
                                            <div class="grade-bar grade-b" onclick="showGradeInfo('B')">
                                                <div class="h5">B</div>
                                                <div id="gradeBCount">0</div>
                                            </div>
                                            <div class="grade-bar grade-c" onclick="showGradeInfo('C')">
                                                <div class="h5">C</div>
                                                <div id="gradeCCount">0</div>
                                            </div>
                                            <div class="grade-bar grade-d" onclick="showGradeInfo('D')">
                                                <div class="h5">D</div>
                                                <div id="gradeDCount">0</div>
                                            </div>
                                            <div class="grade-bar grade-f" onclick="showGradeInfo('F')">
                                                <div class="h5">F</div>
                                                <div id="gradeFCount">0</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Predictions -->
                                    <div class="mt-4">
                                        <h5><i class="fas fa-crystal-ball"></i> ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢</h5>
                                        <div id="gpaPrediction">
                                            <p class="mb-2">‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ GPA <span id="targetDisplay">3.50</span>:</p>
                                            <div class="alert alert-info">
                                                <i class="fas fa-lightbulb"></i> ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏£‡∏î A ‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å <span id="requiredA">0</span> ‡∏ß‡∏¥‡∏ä‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡∏£‡∏î B+ ‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å <span id="requiredBPlus">0</span> ‡∏ß‡∏¥‡∏ä‡∏≤
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <!-- GPA Chart -->
                        <div class="chart-container">
                            <h5><i class="fas fa-chart-line"></i> ‡∏Å‡∏£‡∏≤‡∏ü GPA Trend</h5>
                            <canvas id="gpaChart" height="250"></canvas>
                        </div>
                        
                        <!-- Quick Stats -->
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <i class="fas fa-tachometer-alt"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏î‡πà‡∏ß‡∏ô
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï</span>
                                        <span id="avgPerCredit">0.00</span>
                                    </div>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" id="avgPerCreditBar" style="width: 0%"></div>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</span>
                                        <span id="studyEfficiency">0%</span>
                                    </div>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" id="studyEfficiencyBar" style="width: 0%"></div>
                                    </div>
                                </div>
                                
                                <div class="text-center mt-4">
                                    <button class="btn btn-custom-primary" onclick="exportGPAReport()">
                                        <i class="fas fa-download"></i> ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 2. Science Calculator (Enhanced) -->
            <div class="tab-pane fade" id="science" role="tabpanel">
                <div class="row">
                    <!-- Physics Calculator -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-atom"></i> ‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå - ‡∏Å‡∏é‡∏Ç‡∏≠‡∏á‡πÇ‡∏≠‡∏´‡πå‡∏° & ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà</span>
                                <span class="badge-custom badge-info">Physics</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-4">
                                    <label class="form-label-custom">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</label>
                                    <select class="form-control-custom" id="physicsFormula" onchange="updatePhysicsInputs()">
                                        <option value="ohm-v">‡∏Å‡∏é‡πÇ‡∏≠‡∏´‡πå‡∏°: ‡∏´‡∏≤ V (‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô)</option>
                                        <option value="ohm-i">‡∏Å‡∏é‡πÇ‡∏≠‡∏´‡πå‡∏°: ‡∏´‡∏≤ I (‡∏Å‡∏£‡∏∞‡πÅ‡∏™)</option>
                                        <option value="ohm-r">‡∏Å‡∏é‡πÇ‡∏≠‡∏´‡πå‡∏°: ‡∏´‡∏≤ R (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô)</option>
                                        <option value="power">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ P = VI</option>
                                        <option value="velocity">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß v = s/t</option>
                                        <option value="acceleration">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á a = (v-u)/t</option>
                                        <option value="force">‡πÅ‡∏£‡∏á F = ma</option>
                                        <option value="kinetic">‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏•‡∏ô‡πå KE = ¬Ωmv¬≤</option>
                                        <option value="potential">‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏®‡∏±‡∏Å‡∏¢‡πå PE = mgh</option>
                                    </select>
                                </div>
                                <div id="physicsInputs" class="mb-4">
                                    <div class="row">
                                        <div class="col-6 mb-3">
                                            <label class="form-label-custom">‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ I (A)</label>
                                            <input type="number" class="form-control-custom" id="phys1" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤">
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label class="form-label-custom">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô R (Œ©)</label>
                                            <input type="number" class="form-control-custom" id="phys2" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤">
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-custom-primary w-100" onclick="calculatePhysics()">
                                    <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
                                </button>
                                <div class="result-box-custom" id="physicsResult">
                                    <div class="result-value-custom" id="physicsValue">0</div>
                                    <div class="result-unit-custom" id="physicsUnit">‡∏´‡∏ô‡πà‡∏ß‡∏¢</div>
                                    <div class="mt-3 p-3 bg-white rounded">
                                        <strong><i class="fas fa-lightbulb text-warning"></i> ‡∏™‡∏π‡∏ï‡∏£:</strong>
                                        <div id="physicsFormulaTip" class="mt-2 text-primary"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chemistry Calculator -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-flask"></i> ‡πÄ‡∏Ñ‡∏°‡∏µ - ‡πÇ‡∏°‡∏• & ‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢</span>
                                <span class="badge-custom badge-success">Chemistry</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-4">
                                    <label class="form-label-custom">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</label>
                                    <select class="form-control-custom" id="chemFormula" onchange="updateChemInputs()">
                                        <option value="mole">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÇ‡∏°‡∏• n = m/M</option>
                                        <option value="molarity">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô M = n/V</option>
                                        <option value="dilution">‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏∑‡∏≠‡∏à‡∏≤‡∏á M‚ÇÅV‚ÇÅ = M‚ÇÇV‚ÇÇ</option>
                                        <option value="ideal-gas">‡∏Å‡∏é‡πÅ‡∏Å‡πä‡∏™‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥ PV = nRT</option>
                                        <option value="ph">pH = -log[H‚Å∫]</option>
                                        <option value="poh">pOH = -log[OH‚Åª]</option>
                                    </select>
                                </div>
                                <div id="chemInputs" class="mb-4">
                                    <div class="row">
                                        <div class="col-6 mb-3">
                                            <label class="form-label-custom">‡∏°‡∏ß‡∏• m (g)</label>
                                            <input type="number" class="form-control-custom" id="chem1" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤">
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label class="form-label-custom">‡∏°‡∏ß‡∏•‡πÇ‡∏°‡πÄ‡∏•‡∏Å‡∏∏‡∏• M (g/mol)</label>
                                            <input type="number" class="form-control-custom" id="chem2" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤">
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-custom-secondary w-100" onclick="calculateChemistry()">
                                    <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
                                </button>
                                <div class="result-box-custom" id="chemResult">
                                    <div class="result-value-custom" id="chemValue">0</div>
                                    <div class="result-unit-custom" id="chemUnit">‡∏´‡∏ô‡πà‡∏ß‡∏¢</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Unit Converter -->
                    <div class="col-lg-12 mt-4">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-exchange-alt"></i> ‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="row">
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
                                        <select class="form-control-custom" id="unitType" onchange="updateUnitOptions()">
                                            <option value="length">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß</option>
                                            <option value="mass">‡∏°‡∏ß‡∏•</option>
                                            <option value="volume">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£</option>
                                            <option value="temperature">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</option>
                                            <option value="pressure">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô</option>
                                            <option value="energy">‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô</option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á</label>
                                        <input type="number" class="form-control-custom" id="unitValue" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤" oninput="convertUnits()">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡∏à‡∏≤‡∏Å</label>
                                        <select class="form-control-custom" id="unitFrom" onchange="convertUnits()"></select>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡πÄ‡∏õ‡πá‡∏ô</label>
                                        <select class="form-control-custom" id="unitTo" onchange="convertUnits()"></select>
                                    </div>
                                </div>
                                <div class="mt-4 text-center">
                                    <div class="result-value-custom" id="unitResult">0</div>
                                    <div class="result-unit-custom" id="unitResultLabel">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 3. Math Calculator (Enhanced) -->
            <div class="tab-pane fade" id="math" role="tabpanel">
                <div class="row">
                    <!-- Quadratic Equation -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-superscript"></i> ‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏≠‡∏á ax¬≤ + bx + c = 0</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="row mb-3">
                                    <div class="col-4">
                                        <label class="form-label-custom">a</label>
                                        <input type="number" class="form-control-custom" id="quadA" value="1" placeholder="a">
                                    </div>
                                    <div class="col-4">
                                        <label class="form-label-custom">b</label>
                                        <input type="number" class="form-control-custom" id="quadB" value="0" placeholder="b">
                                    </div>
                                    <div class="col-4">
                                        <label class="form-label-custom">c</label>
                                        <input type="number" class="form-control-custom" id="quadC" value="0" placeholder="c">
                                    </div>
                                </div>
                                <button class="btn btn-custom-primary w-100" onclick="solveQuadratic()">
                                    <i class="fas fa-calculator"></i> ‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
                                </button>
                                <div class="result-box-custom" id="quadResult">
                                    <h5><i class="fas fa-check-circle text-success"></i> ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</h5>
                                    <div id="quadSolutions"></div>
                                    <div class="mt-3 p-3 bg-white rounded">
                                        <strong>‡∏î‡∏¥‡∏™‡∏Ñ‡∏£‡∏¥‡∏°‡∏¥‡πÅ‡∏ô‡∏ô‡∏ï‡πå (D):</strong> <span id="discriminant">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Triangle Calculator -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-drafting-compass"></i> ‡∏û‡∏µ‡∏ó‡∏≤‡πÇ‡∏Å‡∏£‡∏±‡∏™ & ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-3">
                                    <label class="form-label-custom">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</label>
                                    <select class="form-control-custom" id="triangleCalc" onchange="updateTriangleInputs()">
                                        <option value="pythagoras">‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ö‡∏ó‡∏û‡∏µ‡∏ó‡∏≤‡πÇ‡∏Å‡∏£‡∏±‡∏™</option>
                                        <option value="area-base">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà (‡∏ê‡∏≤‡∏ô x ‡∏™‡∏π‡∏á)</option>
                                        <option value="area-heron">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà (‡∏™‡∏π‡∏ï‡∏£‡∏Æ‡∏µ‡∏£‡∏≠‡∏ô)</option>
                                        <option value="perimeter">‡πÄ‡∏™‡πâ‡∏ô‡∏£‡∏≠‡∏ö‡∏£‡∏π‡∏õ</option>
                                    </select>
                                </div>
                                <div id="triangleInputs" class="mb-3">
                                    <div class="row">
                                        <div class="col-6">
                                            <label class="form-label-custom">‡∏î‡πâ‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö a</label>
                                            <input type="number" class="form-control-custom" id="triA" placeholder="a">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label-custom">‡∏î‡πâ‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö b</label>
                                            <input type="number" class="form-control-custom" id="triB" placeholder="b">
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-custom-secondary w-100" onclick="calculateTriangle()">
                                    <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
                                </button>
                                <div class="result-box-custom" id="triangleResult">
                                    <div class="result-value-custom" id="triangleValue">0</div>
                                    <div class="result-unit-custom" id="triangleUnit">‡∏´‡∏ô‡πà‡∏ß‡∏¢</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Area & Volume Calculator -->
                    <div class="col-lg-6 mt-4">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-shapes"></i> ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà & ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-3">
                                    <label class="form-label-custom">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á</label>
                                    <select class="form-control-custom" id="shapeType" onchange="updateShapeInputs()">
                                        <option value="circle">‡∏ß‡∏á‡∏Å‡∏•‡∏° (‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà)</option>
                                        <option value="rectangle">‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏ú‡∏∑‡∏ô‡∏ú‡πâ‡∏≤</option>
                                        <option value="triangle">‡∏™‡∏≤‡∏°‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°</option>
                                        <option value="sphere">‡∏ó‡∏£‡∏á‡∏Å‡∏•‡∏° (‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£)</option>
                                        <option value="cylinder">‡∏ó‡∏£‡∏á‡∏Å‡∏£‡∏∞‡∏ö‡∏≠‡∏Å</option>
                                        <option value="cone">‡∏Å‡∏£‡∏ß‡∏¢</option>
                                        <option value="cube">‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏®‡∏Å‡πå</option>
                                    </select>
                                </div>
                                <div id="shapeInputs" class="mb-3">
                                    <label class="form-label-custom">‡∏£‡∏±‡∏®‡∏°‡∏µ r</label>
                                    <input type="number" class="form-control-custom" id="shapeR" placeholder="r">
                                </div>
                                <button class="btn btn-custom-primary w-100" onclick="calculateShape()">
                                    <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
                                </button>
                                <div class="result-box-custom" id="shapeResult">
                                    <div class="result-value-custom" id="shapeValue">0</div>
                                    <div class="result-unit-custom" id="shapeUnit">‡∏ï‡∏£.‡∏´‡∏ô‡πà‡∏ß‡∏¢</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Percentage Calculator -->
                    <div class="col-lg-6 mt-4">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-percentage"></i> ‡∏£‡πâ‡∏≠‡∏¢‡∏•‡∏∞ & ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-3">
                                    <label class="form-label-custom">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
                                    <select class="form-control-custom" id="percentType" onchange="updatePercentInputs()">
                                        <option value="of">X% ‡∏Ç‡∏≠‡∏á Y ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?</option>
                                        <option value="is">X ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏µ‡πà % ‡∏Ç‡∏≠‡∏á Y?</option>
                                        <option value="change">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Å‡∏µ‡πà % ‡∏à‡∏≤‡∏Å X ‡πÄ‡∏õ‡πá‡∏ô Y?</option>
                                        <option value="increase">‡πÄ‡∏û‡∏¥‡πà‡∏° X% ‡∏à‡∏≤‡∏Å Y</option>
                                        <option value="decrease">‡∏•‡∏î X% ‡∏à‡∏≤‡∏Å Y</option>
                                    </select>
                                </div>
                                <div id="percentInputs" class="mb-3">
                                    <div class="row">
                                        <div class="col-6">
                                            <label class="form-label-custom">X</label>
                                            <input type="number" class="form-control-custom" id="percentX" placeholder="X">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label-custom">Y</label>
                                            <input type="number" class="form-control-custom" id="percentY" placeholder="Y">
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-custom-secondary w-100" onclick="calculatePercent()">
                                    <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
                                </button>
                                <div class="result-box-custom" id="percentResult">
                                    <div class="result-value-custom" id="percentValue">0</div>
                                    <div class="result-unit-custom" id="percentUnit">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 4. Finance Calculator -->
            <div class="tab-pane fade" id="finance" role="tabpanel">
                <div class="row">
                    <!-- Education Loan Calculator -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-university"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏π‡πâ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (‡∏Å‡∏¢‡∏®./‡∏Å‡∏£‡∏≠.)</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-3">
                                    <label class="form-label-custom">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏π‡πâ (‡∏ö‡∏≤‡∏ó)</label>
                                    <input type="number" class="form-control-custom" id="loanAmount" value="200000" placeholder="‡πÄ‡∏ä‡πà‡∏ô 200000">
                                </div>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ (%/‡∏õ‡∏µ)</label>
                                        <input type="number" class="form-control-custom" id="loanRate" value="1" step="0.1" placeholder="1">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡∏õ‡∏µ)</label>
                                        <input type="number" class="form-control-custom" id="loanYears" value="15" placeholder="15">
                                    </div>
                                </div>
                                <button class="btn btn-custom-primary w-100" onclick="calculateLoan()">
                                    <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
                                </button>
                                <div class="result-box-custom" id="loanResult">
                                    <div class="row text-center">
                                        <div class="col-6">
                                            <div class="h4 text-primary" id="monthlyPayment">0</div>
                                            <small>‡∏ú‡πà‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡∏ö‡∏≤‡∏ó)</small>
                                        </div>
                                        <div class="col-6">
                                            <div class="h4 text-success" id="totalPayment">0</div>
                                            <small>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ö‡∏≤‡∏ó)</small>
                                        </div>
                                    </div>
                                    <div class="mt-3 text-center">
                                        <div class="h5 text-danger" id="totalInterest">0</div>
                                        <small>‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏£‡∏ß‡∏° (‡∏ö‡∏≤‡∏ó)</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tuition Fee Calculator -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-graduation-cap"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡∏≠‡∏° & ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-3">
                                    <label class="form-label-custom">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢</label>
                                    <select class="form-control-custom" id="uniType" onchange="updateTuitionEstimate()">
                                        <option value="public">‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•</option>
                                        <option value="private">‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏≠‡∏Å‡∏ä‡∏ô</option>
                                        <option value="inter">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏≤‡∏ô‡∏≤‡∏ä‡∏≤‡∏ï‡∏¥</option>
                                    </select>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡∏≠‡∏° (‡∏ö‡∏≤‡∏ó)</label>
                                        <input type="number" class="form-control-custom" id="tuitionFee" value="25000">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ó‡∏≠‡∏°</label>
                                        <input type="number" class="form-control-custom" id="totalSemesters" value="8">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏Ñ‡πà‡∏≤‡∏´‡∏≠‡∏û‡∏±‡∏Å/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</label>
                                        <input type="number" class="form-control-custom" id="dormFee" value="3000">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏£‡∏≠‡∏á‡∏ä‡∏µ‡∏û/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</label>
                                        <input type="number" class="form-control-custom" id="livingCost" value="8000">
                                    </div>
                                </div>
                                <button class="btn btn-custom-secondary w-100" onclick="calculateTotalCost()">
                                    <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                                </button>
                                <div class="result-box-custom" id="tuitionResult">
                                    <div class="row text-center">
                                        <div class="col-4">
                                            <div class="h5 text-primary" id="totalTuition">0</div>
                                            <small>‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡∏≠‡∏°‡∏£‡∏ß‡∏°</small>
                                        </div>
                                        <div class="col-4">
                                            <div class="h5 text-info" id="totalLiving">0</div>
                                            <small>‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏£‡∏≠‡∏á‡∏ä‡∏µ‡∏û‡∏£‡∏ß‡∏°</small>
                                        </div>
                                        <div class="col-4">
                                            <div class="h5 text-success" id="grandTotal">0</div>
                                            <small>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Savings Goal Calculator -->
                    <div class="col-lg-12 mt-4">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-piggy-bank"></i> ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏≠‡∏≠‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="row">
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (‡∏ö‡∏≤‡∏ó)</label>
                                        <input type="number" class="form-control-custom" id="savingsGoal" value="500000">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡∏õ‡∏µ)</label>
                                        <input type="number" class="form-control-custom" id="savingsYears" value="5">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏ù‡∏≤‡∏Å (%)</label>
                                        <input type="number" class="form-control-custom" id="savingsRate" value="2" step="0.1">
                                    </div>
                                    <div class="col-md-3">
                                        <button class="btn btn-custom-primary w-100 h-100" onclick="calculateSavings()">
                                            <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
                                        </button>
                                    </div>
                                </div>
                                <div class="result-box-custom" id="savingsResult">
                                    <div class="row text-center">
                                        <div class="col-md-4">
                                            <div class="result-value-custom" id="monthlySave">0</div>
                                            <div class="result-unit-custom">‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡∏ö‡∏≤‡∏ó)</div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="h3 text-success" id="totalSaved">0</div>
                                            <small>‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏ô‡∏£‡∏ß‡∏°</small>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="h3 text-info" id="interestEarned">0</div>
                                            <small>‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 5. Statistics & Probability -->
            <div class="tab-pane fade" id="stats" role="tabpanel">
                <div class="row">
                    <!-- Basic Statistics -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-chart-bar"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-3">
                                    <label class="form-label-custom">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ ,)</label>
                                    <textarea class="form-control-custom" id="statsData" rows="3" placeholder="‡πÄ‡∏ä‡πà‡∏ô 85, 90, 78, 92, 88, 76, 95"></textarea>
                                </div>
                                <button class="btn btn-custom-primary w-100" onclick="calculateStatistics()">
                                    <i class="fas fa-calculator"></i> ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                </button>
                                <div class="result-box-custom" id="statsResult">
                                    <div class="row text-center">
                                        <div class="col-4 mb-3">
                                            <div class="h4 text-primary" id="statsMean">0</div>
                                            <small>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (Mean)</small>
                                        </div>
                                        <div class="col-4 mb-3">
                                            <div class="h4 text-info" id="statsMedian">0</div>
                                            <small>‡∏°‡∏±‡∏ò‡∏¢‡∏ê‡∏≤‡∏ô (Median)</small>
                                        </div>
                                        <div class="col-4 mb-3">
                                            <div class="h4 text-success" id="statsMode">0</div>
                                            <small>‡∏ê‡∏≤‡∏ô‡∏ô‡∏¥‡∏¢‡∏° (Mode)</small>
                                        </div>
                                        <div class="col-4">
                                            <div class="h4 text-warning" id="statsRange">0</div>
                                            <small>‡∏û‡∏¥‡∏™‡∏±‡∏¢ (Range)</small>
                                        </div>
                                        <div class="col-4">
                                            <div class="h4 text-danger" id="statsSD">0</div>
                                            <small>‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ö‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏ô (SD)</small>
                                        </div>
                                        <div class="col-4">
                                            <div class="h4 text-secondary" id="statsVar">0</div>
                                            <small>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô</small>
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <div class="d-flex justify-content-between">
                                            <span>‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î: <strong id="statsMin">0</strong></span>
                                            <span>‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: <strong id="statsMax">0</strong></span>
                                            <span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: <strong id="statsCount">0</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Probability Calculator -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-dice"></i> ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-3">
                                    <label class="form-label-custom">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</label>
                                    <select class="form-control-custom" id="probType" onchange="updateProbInputs()">
                                        <option value="simple">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô P(A) = n(A)/n(S)</option>
                                        <option value="combination">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏´‡∏°‡∏π‡πà C(n,r)</option>
                                        <option value="permutation">‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏™‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô P(n,r)</option>
                                        <option value="binomial">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏ó‡∏ß‡∏¥‡∏ô‡∏≤‡∏°</option>
                                    </select>
                                </div>
                                <div id="probInputs" class="mb-3">
                                    <div class="row">
                                        <div class="col-6">
                                            <label class="form-label-custom">‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à n(A)</label>
                                            <input type="number" class="form-control-custom" id="probA" placeholder="n(A)">
                                        </div>
                                        <div class="col-6">
                                            <label class="form-label-custom">‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î n(S)</label>
                                            <input type="number" class="form-control-custom" id="probS" placeholder="n(S)">
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-custom-secondary w-100" onclick="calculateProbability()">
                                    <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
                                </button>
                                <div class="result-box-custom" id="probResult">
                                    <div class="result-value-custom" id="probValue">0</div>
                                    <div class="result-unit-custom" id="probUnit">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô</div>
                                    <div class="mt-3 text-center">
                                        <span class="h5" id="probPercent">0%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Normal Distribution -->
                    <div class="col-lg-12 mt-4">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-bell"></i> ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏õ‡∏Å‡∏ï‡∏¥ (Normal Distribution)</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="row">
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏≤ (X)</label>
                                        <input type="number" class="form-control-custom" id="normX" placeholder="X">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (Œº)</label>
                                        <input type="number" class="form-control-custom" id="normMean" placeholder="Œº">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label-custom">‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ö‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏ô (œÉ)</label>
                                        <input type="number" class="form-control-custom" id="normSD" placeholder="œÉ">
                                    </div>
                                    <div class="col-md-3">
                                        <button class="btn btn-custom-primary w-100 h-100" onclick="calculateZScore()">
                                            <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Z-Score
                                        </button>
                                    </div>
                                </div>
                                <div class="result-box-custom mt-3" id="normResult">
                                    <div class="row text-center">
                                        <div class="col-md-6">
                                            <div class="result-value-custom" id="zScore">0</div>
                                            <div class="result-unit-custom">Z-Score</div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="h3 text-success" id="zPercent">0%</div>
                                            <small>‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ï‡πâ‡∏Å‡∏£‡∏≤‡∏ü (‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢)</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 6. Study Tools -->
            <div class="tab-pane fade" id="tools" role="tabpanel">
                <div class="row">
                    <!-- Pomodoro Timer -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-clock"></i> Pomodoro Timer - ‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</span>
                            </div>
                            <div class="card-body-custom text-center">
                                <div class="mb-4">
                                    <div class="result-value-custom" id="timerDisplay" style="font-size: 5rem;">25:00</div>
                                    <div class="result-unit-custom" id="timerStatus">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°</div>
                                </div>
                                <div class="mb-4">
                                    <div class="btn-group">
                                        <button class="btn btn-custom-primary" onclick="setTimer(25)">25 ‡∏ô‡∏≤‡∏ó‡∏µ</button>
                                        <button class="btn btn-custom-secondary" onclick="setTimer(45)">45 ‡∏ô‡∏≤‡∏ó‡∏µ</button>
                                        <button class="btn btn-outline-primary" onclick="setTimer(5)">‡∏û‡∏±‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ</button>
                                    </div>
                                </div>
                                <div class="d-flex justify-content-center gap-3">
                                    <button class="btn btn-success btn-lg" onclick="startTimer()">
                                        <i class="fas fa-play"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°
                                    </button>
                                    <button class="btn btn-warning btn-lg" onclick="pauseTimer()">
                                        <i class="fas fa-pause"></i> ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
                                    </button>
                                    <button class="btn btn-danger btn-lg" onclick="resetTimer()">
                                        <i class="fas fa-redo"></i> ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
                                    </button>
                                </div>
                                <div class="mt-4">
                                    <small class="text-muted">‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: <span id="pomodoroCount">0</span> ‡∏£‡∏≠‡∏ö</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Grade Target Calculator -->
                    <div class="col-lg-6">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-bullseye"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</label>
                                        <input type="number" class="form-control-custom" id="currentScore" placeholder="‡πÄ‡∏ä‡πà‡∏ô 75">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô %</label>
                                        <input type="number" class="form-control-custom" id="currentWeight" placeholder="‡πÄ‡∏ä‡πà‡∏ô 40" value="40">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label-custom">‡πÄ‡∏Å‡∏£‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</label>
                                        <select class="form-control-custom" id="targetGradeCalc">
                                            <option value="80">A (80+)</option>
                                            <option value="75">B+ (75-79)</option>
                                            <option value="70">B (70-74)</option>
                                            <option value="65">C+ (65-69)</option>
                                            <option value="60">C (60-64)</option>
                                            <option value="55">D+ (55-59)</option>
                                            <option value="50">D (50-54)</option>
                                        </select>
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏≠‡∏ö Final %</label>
                                        <input type="number" class="form-control-custom" id="finalWeight" placeholder="‡πÄ‡∏ä‡πà‡∏ô 60" value="60">
                                    </div>
                                </div>
                                <button class="btn btn-custom-primary w-100" onclick="calculateRequiredScore()">
                                    <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ
                                </button>
                                <div class="result-box-custom" id="requiredResult">
                                    <div class="text-center">
                                        <div class="result-value-custom" id="requiredScore">0</div>
                                        <div class="result-unit-custom">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô Final ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ (‡∏à‡∏≤‡∏Å‡πÄ‡∏ï‡πá‡∏° 100)</div>
                                    </div>
                                    <div class="mt-3 alert" id="scoreAlert"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Base Converter -->
                    <div class="col-lg-6 mt-4">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-exchange-alt"></i> ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏•‡∏Ç‡∏ê‡∏≤‡∏ô</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="mb-3">
                                    <label class="form-label-custom">‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç</label>
                                    <input type="text" class="form-control-custom" id="baseInput" placeholder="‡πÄ‡∏ä‡πà‡∏ô 255" oninput="convertBase()">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label-custom">‡∏ê‡∏≤‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label>
                                    <select class="form-control-custom" id="baseFrom" onchange="convertBase()">
                                        <option value="10" selected>‡∏ê‡∏≤‡∏ô 10 (Decimal)</option>
                                        <option value="2">‡∏ê‡∏≤‡∏ô 2 (Binary)</option>
                                        <option value="8">‡∏ê‡∏≤‡∏ô 8 (Octal)</option>
                                        <option value="16">‡∏ê‡∏≤‡∏ô 16 (Hexadecimal)</option>
                                    </select>
                                </div>
                                <div class="result-box-custom" style="display: block;">
                                    <div class="row text-center">
                                        <div class="col-6 mb-3">
                                            <div class="h5 text-primary" id="baseBinary">0</div>
                                            <small>‡∏ê‡∏≤‡∏ô 2 (Binary)</small>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <div class="h5 text-success" id="baseDecimal">0</div>
                                            <small>‡∏ê‡∏≤‡∏ô 10 (Decimal)</small>
                                        </div>
                                        <div class="col-6">
                                            <div class="h5 text-warning" id="baseOctal">0</div>
                                            <small>‡∏ê‡∏≤‡∏ô 8 (Octal)</small>
                                        </div>
                                        <div class="col-6">
                                            <div class="h5 text-danger" id="baseHex">0</div>
                                            <small>‡∏ê‡∏≤‡∏ô 16 (Hex)</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Study Schedule -->
                    <div class="col-lg-6 mt-4">
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <span><i class="fas fa-calendar-check"></i> ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</span>
                            </div>
                            <div class="card-body-custom">
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô</label>
                                        <input type="number" class="form-control-custom" id="totalPages" placeholder="‡πÄ‡∏ä‡πà‡∏ô 500">
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label-custom">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ</label>
                                        <input type="number" class="form-control-custom" id="totalDays" placeholder="‡πÄ‡∏ä‡πà‡∏ô 14">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label-custom">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô (‡∏´‡∏ô‡πâ‡∏≤/‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)</label>
                                    <input type="number" class="form-control-custom" id="readingSpeed" value="30" placeholder="30">
                                </div>
                                <button class="btn btn-custom-secondary w-100" onclick="calculateStudyPlan()">
                                    <i class="fas fa-calculator"></i> ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô
                                </button>
                                <div class="result-box-custom" id="studyPlanResult">
                                    <div class="row text-center">
                                        <div class="col-6">
                                            <div class="h4 text-primary" id="pagesPerDay">0</div>
                                            <small>‡∏´‡∏ô‡πâ‡∏≤/‡∏ß‡∏±‡∏ô</small>
                                        </div>
                                        <div class="col-6">
                                            <div class="h4 text-success" id="hoursPerDay">0</div>
                                            <small>‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á/‡∏ß‡∏±‡∏ô</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Recent Calculations -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="card-custom">
                    <div class="card-header-custom">
                        <i class="fas fa-history"></i> ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
                    </div>
                    <div class="card-body-custom">
                        <div class="table-responsive">
                            <table class="table table-hover" id="calculationHistory">
                                <thead>
                                    <tr>
                                        <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                                        <th>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠</th>
                                        <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                                        <th>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="footer-custom mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h4>Education Hub Pro</h4>
                    <p>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
                    <div class="social-icons mt-3">
                        <a href="#" class="text-white me-3"><i class="fab fa-facebook fa-lg"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-line fa-lg"></i></a>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-light text-decoration-none">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì GPA</a></li>
                        <li><a href="#" class="text-light text-decoration-none">‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢</a></li>
                        <li><a href="#" class="text-light text-decoration-none">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h5>
                    <p><i class="fas fa-envelope me-2"></i> support@educationhub.com</p>
                    <p><i class="fas fa-phone me-2"></i> 02-123-4567</p>
                </div>
            </div>
            <hr class="bg-light my-4">
            <div class="text-center">
                <p>&copy; 2024 Education Hub Pro. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    
    <script>
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading
            setTimeout(() => {
                document.getElementById('loadingOverlay').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingOverlay').style.display = 'none';
                }, 500);
            }, 1500);
            
            // Initialize dashboard counters
            animateCounter('totalCalculations', 0, 1247, 2000);
            animateCounter('activeUsers', 0, 342, 1500);
            animateCounter('toolsCount', 0, 15, 1000);
            
            // Initialize GPA system
            initializeGPAPro();
            
            // Initialize particles
            if (typeof particlesJS !== 'undefined') {
                particlesJS('particles-js', {
                    particles: {
                        number: { value: 80, density: { enable: true, value_area: 800 } },
                        color: { value: "#3498db" },
                        shape: { type: "circle" },
                        opacity: { value: 0.5, random: true },
                        size: { value: 3, random: true },
                        line_linked: {
                            enable: true,
                            distance: 150,
                            color: "#3498db",
                            opacity: 0.2,
                            width: 1
                        },
                        move: { enable: true, speed: 2 }
                    }
                });
            }
            
            // Initialize Chart
            initializeGPAChart();
            
            // Load history
            loadCalculationHistory();
        });
        
        // Counter Animation
        function animateCounter(elementId, start, end, duration) {
            let current = start;
            const increment = end > start ? 1 : -1;
            const stepTime = Math.abs(Math.floor(duration / (end - start)));
            const element = document.getElementById(elementId);
            
            const timer = setInterval(() => {
                current += increment;
                element.textContent = current.toLocaleString();
                if (current === end) {
                    clearInterval(timer);
                }
            }, stepTime);
        }
        
        // GPA Pro System
        let gpaSystem = 'university';
        let subjects = [];
        
        function setGpaSystem(system) {
            gpaSystem = system;
            const buttons = document.querySelectorAll('#gpa .btn-custom-primary, #gpa .btn-custom-secondary');
            buttons.forEach(btn => {
                if (btn.textContent.includes(system === 'university' ? '‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢' : '‡∏°‡∏±‡∏ò‡∏¢‡∏°')) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            updateGradeOptions();
        }
        
        function initializeGPAPro() {
            subjects = [];
            addSubjectPro();
            addSubjectPro();
            addSubjectPro();
            updateGradeOptions();
        }
        
        function addSubjectPro() {
            const container = document.getElementById('subjectsContainerPro');
            const id = subjects.length + 1;
            const subject = {
                id: id,
                name: '',
                credit: 3,
                grade: 3.5
            };
            subjects.push(subject);
            
            const div = document.createElement('div');
            div.className = 'subject-row row align-items-center mb-3';
            div.id = `subject-${id}`;
            div.innerHTML = `
                <div class="col-md-4">
                    <input type="text" class="form-control-custom subject-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏Ñ‡∏•‡∏Ñ‡∏π‡∏•‡∏±‡∏™)" 
                           oninput="updateSubjectName(${id}, this.value)">
                </div>
                <div class="col-md-3">
                    <select class="form-control-custom subject-credit" onchange="updateSubjectCredit(${id}, this.value)">
                        <option value="1">1 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï</option>
                        <option value="2">2 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï</option>
                        <option value="3" selected>3 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï</option>
                        <option value="4">4 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <select class="form-control-custom subject-grade" onchange="updateSubjectGrade(${id}, this.value)">
                        <!-- Will be populated by updateGradeOptions -->
                    </select>
                </div>
                <div class="col-md-1">
                    <button class="btn btn-danger btn-sm" onclick="removeSubjectPro(${id})">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            container.appendChild(div);
            updateGradeOptions();
        }
        
        function updateGradeOptions() {
            const gradeOptions = gpaSystem === 'university' ? [
                { value: 4, label: 'A (4.0)' },
                { value: 3.5, label: 'B+ (3.5)' },
                { value: 3, label: 'B (3.0)' },
                { value: 2.5, label: 'C+ (2.5)' },
                { value: 2, label: 'C (2.0)' },
                { value: 1.5, label: 'D+ (1.5)' },
                { value: 1, label: 'D (1.0)' },
                { value: 0, label: 'F (0.0)' }
            ] : [
                { value: 5, label: 'A (5.0)' },
                { value: 4, label: 'B+ (4.0)' },
                { value: 3.5, label: 'B (3.5)' },
                { value: 3, label: 'C+ (3.0)' },
                { value: 2.5, label: 'C (2.5)' },
                { value: 2, label: 'D+ (2.0)' },
                { value: 1, label: 'D (1.0)' },
                { value: 0, label: 'F (0.0)' }
            ];
            
            document.querySelectorAll('.subject-grade').forEach((select, index) => {
                select.innerHTML = '';
                gradeOptions.forEach(option => {
                    const opt = document.createElement('option');
                    opt.value = option.value;
                    opt.textContent = option.label;
                    select.appendChild(opt);
                });
                if (subjects[index]) {
                    select.value = subjects[index].grade;
                }
            });
        }
        
        function updateSubjectName(id, value) {
            const subject = subjects.find(s => s.id === id);
            if (subject) subject.name = value;
        }
        
        function updateSubjectCredit(id, value) {
            const subject = subjects.find(s => s.id === id);
            if (subject) subject.credit = parseFloat(value);
        }
        
        function updateSubjectGrade(id, value) {
            const subject = subjects.find(s => s.id === id);
            if (subject) subject.grade = parseFloat(value);
        }
        
        function removeSubjectPro(id) {
            subjects = subjects.filter(s => s.id !== id);
            const element = document.getElementById(`subject-${id}`);
            if (element) element.remove();
            updateGradeOptions();
        }
        
        function clearAllSubjects() {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?')) {
                subjects = [];
                document.getElementById('subjectsContainerPro').innerHTML = '';
                addSubjectPro();
                addSubjectPro();
                addSubjectPro();
                document.getElementById('gpaResultPro').style.display = 'none';
            }
        }
        
        function calculateGPAPro() {
            let totalCredits = 0;
            let totalPoints = 0;
            const gradeCount = { A: 0, B: 0, C: 0, D: 0, F: 0 };
            
            subjects.forEach(subject => {
                totalCredits += subject.credit;
                totalPoints += (subject.credit * subject.grade);
                
                // Count grades
                if (subject.grade >= 3.5) gradeCount.A++;
                else if (subject.grade >= 2.5) gradeCount.B++;
                else if (subject.grade >= 1.5) gradeCount.C++;
                else if (subject.grade >= 0.5) gradeCount.D++;
                else gradeCount.F++;
            });
            
            const gpa = totalCredits > 0 ? (totalPoints / totalCredits).toFixed(2) : 0;
            const gpaPercent = (gpa / (gpaSystem === 'university' ? 4 : 5)) * 100;
            
            // Update results
            document.getElementById('gpaValuePro').textContent = gpa;
            document.getElementById('totalCreditsPro').textContent = totalCredits;
            document.getElementById('totalPointsPro').textContent = totalPoints.toFixed(2);
            document.getElementById('gpaProgress').style.width = `${gpaPercent}%`;
            
            // Update grade counts
            document.getElementById('gradeACount').textContent = gradeCount.A;
            document.getElementById('gradeBCount').textContent = gradeCount.B;
            document.getElementById('gradeCCount').textContent = gradeCount.C;
            document.getElementById('gradeDCount').textContent = gradeCount.D;
            document.getElementById('gradeFCount').textContent = gradeCount.F;
            
            // Update stats
            const avgPerCredit = totalCredits > 0 ? (totalPoints / totalCredits).toFixed(2) : 0;
            document.getElementById('avgPerCredit').textContent = avgPerCredit;
            document.getElementById('avgPerCreditBar').style.width = `${(avgPerCredit / 4) * 100}%`;
            
            const studyEfficiency = ((gradeCount.A + gradeCount.B) / subjects.length * 100).toFixed(0);
            document.getElementById('studyEfficiency').textContent = `${studyEfficiency}%`;
            document.getElementById('studyEfficiencyBar').style.width = `${studyEfficiency}%`;
            
            // Show prediction
            const targetGPA = parseFloat(document.getElementById('targetGPA').value) || 3.5;
            document.getElementById('targetDisplay').textContent = targetGPA;
            
            const requiredPoints = (targetGPA * totalCredits) - totalPoints;
            const requiredA = Math.ceil(requiredPoints / (4 * 3));
            const requiredBPlus = Math.ceil(requiredPoints / (3.5 * 3));
            
            document.getElementById('requiredA').textContent = requiredA;
            document.getElementById('requiredBPlus').textContent = requiredBPlus;
            
            // Show result
            document.getElementById('gpaResultPro').style.display = 'block';
            
            // Add to history
            addToHistory('GPA Calculator', `${subjects.length} ‡∏ß‡∏¥‡∏ä‡∏≤`, gpa);
            
            // Update chart
            updateGPAChart();
        }
        
        function initializeGPAChart() {
            const ctx = document.getElementById('gpaChart').getContext('2d');
            window.gpaChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['‡πÄ‡∏ó‡∏≠‡∏° 1', '‡πÄ‡∏ó‡∏≠‡∏° 2', '‡πÄ‡∏ó‡∏≠‡∏° 3', '‡πÄ‡∏ó‡∏≠‡∏° 4', '‡πÄ‡∏ó‡∏≠‡∏° 5', '‡πÄ‡∏ó‡∏≠‡∏° 6'],
                    datasets: [{
                        label: 'GPA',
                        data: [3.25, 3.40, 3.60, 3.45, 3.75, 3.80],
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 2.0,
                            max: 4.0
                        }
                    }
                }
            });
        }
        
        function updateGPAChart() {
            if (window.gpaChart) {
                // Simulate random GPA trend
                const newData = window.gpaChart.data.datasets[0].data;
                const lastValue = newData[newData.length - 1];
                const newValue = parseFloat(document.getElementById('gpaValuePro').textContent);
                
                // Add new data point with smoothing
                const smoothedValue = (lastValue * 0.7 + newValue * 0.3);
                newData.push(smoothedValue.toFixed(2));
                newData.shift();
                
                window.gpaChart.update();
            }
        }
        
        function showGradeInfo(grade) {
            const messages = {
                A: '‡πÄ‡∏Å‡∏£‡∏î A: ‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏î‡∏î‡πÄ‡∏î‡πà‡∏ô',
                B: '‡πÄ‡∏Å‡∏£‡∏î B: ‡∏î‡∏µ‡∏°‡∏≤‡∏Å! ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ A',
                C: '‡πÄ‡∏Å‡∏£‡∏î C: ‡∏û‡∏≠‡πÉ‡∏ä‡πâ! ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô',
                D: '‡πÄ‡∏Å‡∏£‡∏î D: ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå! ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô',
                F: '‡πÄ‡∏Å‡∏£‡∏î F: ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô! ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô'
            };
            
            alert(messages[grade]);
        }
        
        function exportGPAReport() {
            const report = `
                ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                ===============
                ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${new Date().toLocaleDateString('th-TH')}
                ‡∏£‡∏∞‡∏ö‡∏ö: ${gpaSystem === 'university' ? '‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢ (4.0)' : '‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (5.0)'}
                
                ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•
                -------
                GPA: ${document.getElementById('gpaValuePro').textContent}
                ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï‡∏£‡∏ß‡∏°: ${document.getElementById('totalCreditsPro').textContent}
                ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: ${document.getElementById('totalPointsPro').textContent}
                
                ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÄ‡∏Å‡∏£‡∏î
                -------------
                A: ${document.getElementById('gradeACount').textContent} ‡∏ß‡∏¥‡∏ä‡∏≤
                B: ${document.getElementById('gradeBCount').textContent} ‡∏ß‡∏¥‡∏ä‡∏≤
                C: ${document.getElementById('gradeCCount').textContent} ‡∏ß‡∏¥‡∏ä‡∏≤
                D: ${document.getElementById('gradeDCount').textContent} ‡∏ß‡∏¥‡∏ä‡∏≤
                F: ${document.getElementById('gradeFCount').textContent} ‡∏ß‡∏¥‡∏ä‡∏≤
                
                ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
                -------
                ${getStudyRecommendation()}
            `;
            
            // Create download
            const blob = new Blob([report], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `gpa-report-${new Date().getTime()}.txt`;
            a.click();
            
            alert('‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!');
        }
        
        function getStudyRecommendation() {
            const gpa = parseFloat(document.getElementById('gpaValuePro').textContent);
            
            if (gpa >= 3.5) return '‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡∏î‡∏µ';
            if (gpa >= 3.0) return '‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡∏µ! ‡∏•‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å 2-3 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå';
            if (gpa >= 2.5) return '‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏û‡∏≠‡πÉ‡∏ä‡πâ! ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏≠‡∏ö';
            if (gpa >= 2.0) return '‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á! ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏´‡∏≤‡∏ï‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢';
            return '‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô! ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà';
        }
        
        // History Management
        function addToHistory(tool, details, result) {
            const history = JSON.parse(localStorage.getItem('calcHistory') || '[]');
            const entry = {
                id: Date.now(),
                date: new Date().toLocaleString('th-TH'),
                tool: tool,
                details: details,
                result: result
            };
            
            history.unshift(entry);
            if (history.length > 10) history.pop();
            
            localStorage.setItem('calcHistory', JSON.stringify(history));
            loadCalculationHistory();
        }
        
        function loadCalculationHistory() {
            const history = JSON.parse(localStorage.getItem('calcHistory') || '[]');
            const tbody = document.querySelector('#calculationHistory tbody');
            tbody.innerHTML = '';
            
            history.forEach(entry => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${entry.date}</td>
                    <td>${entry.tool}</td>
                    <td>${entry.details}</td>
                    <td><strong>${entry.result}</strong></td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary" onclick="deleteHistoryEntry(${entry.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
            });
            
            if (history.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="5" class="text-center text-muted py-4">
                            <i class="fas fa-history fa-2x mb-3"></i>
                            <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</p>
                        </td>
                    </tr>
                `;
            }
        }
        
        function deleteHistoryEntry(id) {
            if (confirm('‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                let history = JSON.parse(localStorage.getItem('calcHistory') || '[]');
                history = history.filter(entry => entry.id !== id);
                localStorage.setItem('calcHistory', JSON.stringify(history));
                loadCalculationHistory();
            }
        }
        
        // ===========================================
        // PHYSICS CALCULATOR
        // ===========================================
        function updatePhysicsInputs() {
            const formula = document.getElementById('physicsFormula').value;
            let html = '<div class="row">';
            const formulas = {
                'ohm-v': [['I', '‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ I (A)', 'phys1'], ['R', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô R (Œ©)', 'phys2']],
                'ohm-i': [['V', '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô V (V)', 'phys1'], ['R', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô R (Œ©)', 'phys2']],
                'ohm-r': [['V', '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô V (V)', 'phys1'], ['I', '‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ I (A)', 'phys2']],
                'power': [['V', '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô V (V)', 'phys1'], ['I', '‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ I (A)', 'phys2']],
                'velocity': [['s', '‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á s (m)', 'phys1'], ['t', '‡πÄ‡∏ß‡∏•‡∏≤ t (s)', 'phys2']],
                'acceleration': [['v', '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ v (m/s)', 'phys1'], ['u', '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô u (m/s)', 'phys2'], ['t', '‡πÄ‡∏ß‡∏•‡∏≤ t (s)', 'phys3']],
                'force': [['m', '‡∏°‡∏ß‡∏• m (kg)', 'phys1'], ['a', '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á a (m/s¬≤)', 'phys2']],
                'kinetic': [['m', '‡∏°‡∏ß‡∏• m (kg)', 'phys1'], ['v', '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß v (m/s)', 'phys2']],
                'potential': [['m', '‡∏°‡∏ß‡∏• m (kg)', 'phys1'], ['h', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á h (m)', 'phys2']]
            };
            
            const inputs = formulas[formula] || formulas['ohm-v'];
            inputs.forEach((inp, i) => {
                html += `<div class="col-${12/Math.min(inputs.length, 3)} mb-3">
                    <label class="form-label-custom">${inp[1]}</label>
                    <input type="number" class="form-control-custom" id="${inp[2]}" placeholder="${inp[0]}">
                </div>`;
            });
            html += '</div>';
            document.getElementById('physicsInputs').innerHTML = html;
        }
        
        function calculatePhysics() {
            const formula = document.getElementById('physicsFormula').value;
            const p1 = parseFloat(document.getElementById('phys1')?.value) || 0;
            const p2 = parseFloat(document.getElementById('phys2')?.value) || 0;
            const p3 = parseFloat(document.getElementById('phys3')?.value) || 0;
            
            let result = 0, unit = '', tip = '';
            
            switch(formula) {
                case 'ohm-v': result = p1 * p2; unit = 'V (‡πÇ‡∏ß‡∏•‡∏ï‡πå)'; tip = 'V = I √ó R'; break;
                case 'ohm-i': result = p1 / p2; unit = 'A (‡πÅ‡∏≠‡∏°‡πÅ‡∏õ‡∏£‡πå)'; tip = 'I = V / R'; break;
                case 'ohm-r': result = p1 / p2; unit = 'Œ© (‡πÇ‡∏≠‡∏´‡πå‡∏°)'; tip = 'R = V / I'; break;
                case 'power': result = p1 * p2; unit = 'W (‡∏ß‡∏±‡∏ï‡∏ï‡πå)'; tip = 'P = V √ó I'; break;
                case 'velocity': result = p1 / p2; unit = 'm/s'; tip = 'v = s / t'; break;
                case 'acceleration': result = (p1 - p2) / p3; unit = 'm/s¬≤'; tip = 'a = (v - u) / t'; break;
                case 'force': result = p1 * p2; unit = 'N (‡∏ô‡∏¥‡∏ß‡∏ï‡∏±‡∏ô)'; tip = 'F = m √ó a'; break;
                case 'kinetic': result = 0.5 * p1 * p2 * p2; unit = 'J (‡∏à‡∏π‡∏•)'; tip = 'KE = ¬Ωmv¬≤'; break;
                case 'potential': result = p1 * 9.81 * p2; unit = 'J (‡∏à‡∏π‡∏•)'; tip = 'PE = mgh (g=9.81)'; break;
            }
            
            document.getElementById('physicsValue').textContent = result.toFixed(4);
            document.getElementById('physicsUnit').textContent = unit;
            document.getElementById('physicsFormulaTip').textContent = tip;
            document.getElementById('physicsResult').style.display = 'block';
            
            addToHistory('‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå', tip, result.toFixed(4) + ' ' + unit);
        }
        
        // ===========================================
        // CHEMISTRY CALCULATOR
        // ===========================================
        function updateChemInputs() {
            const formula = document.getElementById('chemFormula').value;
            let html = '<div class="row">';
            const formulas = {
                'mole': [['m', '‡∏°‡∏ß‡∏• m (g)', 'chem1'], ['M', '‡∏°‡∏ß‡∏•‡πÇ‡∏°‡πÄ‡∏•‡∏Å‡∏∏‡∏• M (g/mol)', 'chem2']],
                'molarity': [['n', '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÇ‡∏°‡∏• n (mol)', 'chem1'], ['V', '‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£ V (L)', 'chem2']],
                'dilution': [['M‚ÇÅ', '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô M‚ÇÅ (M)', 'chem1'], ['V‚ÇÅ', '‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô V‚ÇÅ (L)', 'chem2'], ['V‚ÇÇ', '‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ V‚ÇÇ (L)', 'chem3']],
                'ideal-gas': [['P', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô P (atm)', 'chem1'], ['V', '‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£ V (L)', 'chem2'], ['T', '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ T (K)', 'chem3']],
                'ph': [['[H‚Å∫]', '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô H‚Å∫ (M)', 'chem1']],
                'poh': [['[OH‚Åª]', '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô OH‚Åª (M)', 'chem1']]
            };
            
            const inputs = formulas[formula] || formulas['mole'];
            inputs.forEach((inp) => {
                html += `<div class="col-${12/Math.min(inputs.length, 3)} mb-3">
                    <label class="form-label-custom">${inp[1]}</label>
                    <input type="number" class="form-control-custom" id="${inp[2]}" placeholder="${inp[0]}" step="any">
                </div>`;
            });
            html += '</div>';
            document.getElementById('chemInputs').innerHTML = html;
        }
        
        function calculateChemistry() {
            const formula = document.getElementById('chemFormula').value;
            const c1 = parseFloat(document.getElementById('chem1')?.value) || 0;
            const c2 = parseFloat(document.getElementById('chem2')?.value) || 0;
            const c3 = parseFloat(document.getElementById('chem3')?.value) || 0;
            
            let result = 0, unit = '';
            
            switch(formula) {
                case 'mole': result = c1 / c2; unit = 'mol (‡πÇ‡∏°‡∏•)'; break;
                case 'molarity': result = c1 / c2; unit = 'M (‡πÇ‡∏°‡∏•‡∏≤‡∏£‡πå)'; break;
                case 'dilution': result = (c1 * c2) / c3; unit = 'M (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà)'; break;
                case 'ideal-gas': result = (c1 * c2) / (0.0821 * c3); unit = 'mol (R=0.0821)'; break;
                case 'ph': result = -Math.log10(c1); unit = 'pH'; break;
                case 'poh': result = -Math.log10(c1); unit = 'pOH'; break;
            }
            
            document.getElementById('chemValue').textContent = isFinite(result) ? result.toFixed(4) : 'Error';
            document.getElementById('chemUnit').textContent = unit;
            document.getElementById('chemResult').style.display = 'block';
            
            addToHistory('‡πÄ‡∏Ñ‡∏°‡∏µ', formula, result.toFixed(4) + ' ' + unit);
        }
        
        // ===========================================
        // UNIT CONVERTER
        // ===========================================
        const unitData = {
            length: {
                units: ['m', 'cm', 'mm', 'km', 'in', 'ft', 'mi'],
                names: ['‡πÄ‡∏°‡∏ï‡∏£', '‡πÄ‡∏ã‡∏ô‡∏ï‡∏¥‡πÄ‡∏°‡∏ï‡∏£', '‡∏°‡∏¥‡∏•‡∏•‡∏¥‡πÄ‡∏°‡∏ï‡∏£', '‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£', '‡∏ô‡∏¥‡πâ‡∏ß', '‡∏ü‡∏∏‡∏ï', '‡πÑ‡∏°‡∏•‡πå'],
                toBase: [1, 0.01, 0.001, 1000, 0.0254, 0.3048, 1609.34]
            },
            mass: {
                units: ['kg', 'g', 'mg', 'lb', 'oz'],
                names: ['‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°', '‡∏Å‡∏£‡∏±‡∏°', '‡∏°‡∏¥‡∏•‡∏•‡∏¥‡∏Å‡∏£‡∏±‡∏°', '‡∏õ‡∏≠‡∏ô‡∏î‡πå', '‡∏≠‡∏≠‡∏ô‡∏ã‡πå'],
                toBase: [1, 0.001, 0.000001, 0.453592, 0.0283495]
            },
            volume: {
                units: ['L', 'mL', 'm3', 'gal', 'cup'],
                names: ['‡∏•‡∏¥‡∏ï‡∏£', '‡∏°‡∏¥‡∏•‡∏•‡∏¥‡∏•‡∏¥‡∏ï‡∏£', '‡∏•‡∏ö.‡πÄ‡∏°‡∏ï‡∏£', '‡πÅ‡∏Å‡∏•‡∏•‡∏≠‡∏ô', '‡∏ñ‡πâ‡∏ß‡∏¢'],
                toBase: [1, 0.001, 1000, 3.78541, 0.236588]
            },
            temperature: {
                units: ['C', 'F', 'K'],
                names: ['‡πÄ‡∏ã‡∏•‡πÄ‡∏ã‡∏µ‡∏¢‡∏™', '‡∏ü‡∏≤‡πÄ‡∏£‡∏ô‡πÑ‡∏Æ‡∏ï‡πå', '‡πÄ‡∏Ñ‡∏•‡∏ß‡∏¥‡∏ô'],
                special: true
            },
            pressure: {
                units: ['Pa', 'atm', 'bar', 'psi', 'mmHg'],
                names: ['‡∏õ‡∏≤‡∏™‡∏Å‡∏≤‡∏•', '‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®', '‡∏ö‡∏≤‡∏£‡πå', 'psi', 'mmHg'],
                toBase: [1, 101325, 100000, 6894.76, 133.322]
            },
            energy: {
                units: ['J', 'kJ', 'cal', 'kcal', 'eV', 'kWh'],
                names: ['‡∏à‡∏π‡∏•', '‡∏Å‡∏¥‡πÇ‡∏•‡∏à‡∏π‡∏•', '‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ', '‡∏Å‡∏¥‡πÇ‡∏•‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ', '‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ï‡∏£‡∏≠‡∏ô‡πÇ‡∏ß‡∏•‡∏ï‡πå', '‡∏Å‡∏¥‡πÇ‡∏•‡∏ß‡∏±‡∏ï‡∏ï‡πå-‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á'],
                toBase: [1, 1000, 4.184, 4184, 1.602e-19, 3600000]
            }
        };
        
        function updateUnitOptions() {
            const type = document.getElementById('unitType').value;
            const data = unitData[type];
            const fromSelect = document.getElementById('unitFrom');
            const toSelect = document.getElementById('unitTo');
            
            fromSelect.innerHTML = data.units.map((u, i) => `<option value="${u}">${data.names[i]} (${u})</option>`).join('');
            toSelect.innerHTML = data.units.map((u, i) => `<option value="${u}">${data.names[i]} (${u})</option>`).join('');
            
            if (data.units.length > 1) toSelect.selectedIndex = 1;
            convertUnits();
        }
        
        function convertUnits() {
            const type = document.getElementById('unitType').value;
            const value = parseFloat(document.getElementById('unitValue').value) || 0;
            const from = document.getElementById('unitFrom').value;
            const to = document.getElementById('unitTo').value;
            const data = unitData[type];
            
            let result = 0;
            
            if (type === 'temperature') {
                let celsius = 0;
                if (from === 'C') celsius = value;
                else if (from === 'F') celsius = (value - 32) * 5/9;
                else if (from === 'K') celsius = value - 273.15;
                
                if (to === 'C') result = celsius;
                else if (to === 'F') result = celsius * 9/5 + 32;
                else if (to === 'K') result = celsius + 273.15;
            } else {
                const fromIdx = data.units.indexOf(from);
                const toIdx = data.units.indexOf(to);
                const baseValue = value * data.toBase[fromIdx];
                result = baseValue / data.toBase[toIdx];
            }
            
            document.getElementById('unitResult').textContent = result.toPrecision(6);
            document.getElementById('unitResultLabel').textContent = `${from} ‚Üí ${to}`;
        }
        
        // ===========================================
        // QUADRATIC EQUATION SOLVER
        // ===========================================
        function solveQuadratic() {
            const a = parseFloat(document.getElementById('quadA').value) || 0;
            const b = parseFloat(document.getElementById('quadB').value) || 0;
            const c = parseFloat(document.getElementById('quadC').value) || 0;
            
            if (a === 0) {
                document.getElementById('quadSolutions').innerHTML = '<div class="text-danger">a ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö 0</div>';
                return;
            }
            
            const D = b * b - 4 * a * c;
            document.getElementById('discriminant').textContent = D.toFixed(4);
            
            let html = '';
            if (D > 0) {
                const x1 = (-b + Math.sqrt(D)) / (2 * a);
                const x2 = (-b - Math.sqrt(D)) / (2 * a);
                html = `<div class="h5 text-success">x‚ÇÅ = ${x1.toFixed(4)}</div>
                        <div class="h5 text-success">x‚ÇÇ = ${x2.toFixed(4)}</div>
                        <small class="text-muted">‡∏°‡∏µ 2 ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏á (D > 0)</small>`;
                addToHistory('‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏≠‡∏á', `${a}x¬≤ + ${b}x + ${c} = 0`, `x‚ÇÅ=${x1.toFixed(2)}, x‚ÇÇ=${x2.toFixed(2)}`);
            } else if (D === 0) {
                const x = -b / (2 * a);
                html = `<div class="h5 text-primary">x = ${x.toFixed(4)}</div>
                        <small class="text-muted">‡∏°‡∏µ 1 ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ã‡πâ‡∏≥ (D = 0)</small>`;
                addToHistory('‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏≠‡∏á', `${a}x¬≤ + ${b}x + ${c} = 0`, `x=${x.toFixed(2)}`);
            } else {
                const real = -b / (2 * a);
                const imag = Math.sqrt(-D) / (2 * a);
                html = `<div class="h5 text-info">x‚ÇÅ = ${real.toFixed(4)} + ${imag.toFixed(4)}i</div>
                        <div class="h5 text-info">x‚ÇÇ = ${real.toFixed(4)} - ${imag.toFixed(4)}i</div>
                        <small class="text-muted">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏ã‡πâ‡∏≠‡∏ô (D < 0)</small>`;
            }
            
            document.getElementById('quadSolutions').innerHTML = html;
            document.getElementById('quadResult').style.display = 'block';
        }
        
        // ===========================================
        // TRIANGLE CALCULATOR
        // ===========================================
        function updateTriangleInputs() {
            const calc = document.getElementById('triangleCalc').value;
            let html = '<div class="row">';
            
            switch(calc) {
                case 'pythagoras':
                    html += `<div class="col-6"><label class="form-label-custom">‡∏î‡πâ‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö a</label>
                            <input type="number" class="form-control-custom" id="triA" placeholder="a"></div>
                            <div class="col-6"><label class="form-label-custom">‡∏î‡πâ‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö b</label>
                            <input type="number" class="form-control-custom" id="triB" placeholder="b"></div>`;
                    break;
                case 'area-base':
                    html += `<div class="col-6"><label class="form-label-custom">‡∏ê‡∏≤‡∏ô</label>
                            <input type="number" class="form-control-custom" id="triA" placeholder="‡∏ê‡∏≤‡∏ô"></div>
                            <div class="col-6"><label class="form-label-custom">‡∏™‡∏π‡∏á</label>
                            <input type="number" class="form-control-custom" id="triB" placeholder="‡∏™‡∏π‡∏á"></div>`;
                    break;
                case 'area-heron':
                case 'perimeter':
                    html += `<div class="col-4"><label class="form-label-custom">‡∏î‡πâ‡∏≤‡∏ô a</label>
                            <input type="number" class="form-control-custom" id="triA" placeholder="a"></div>
                            <div class="col-4"><label class="form-label-custom">‡∏î‡πâ‡∏≤‡∏ô b</label>
                            <input type="number" class="form-control-custom" id="triB" placeholder="b"></div>
                            <div class="col-4"><label class="form-label-custom">‡∏î‡πâ‡∏≤‡∏ô c</label>
                            <input type="number" class="form-control-custom" id="triC" placeholder="c"></div>`;
                    break;
            }
            html += '</div>';
            document.getElementById('triangleInputs').innerHTML = html;
        }
        
        function calculateTriangle() {
            const calc = document.getElementById('triangleCalc').value;
            const a = parseFloat(document.getElementById('triA')?.value) || 0;
            const b = parseFloat(document.getElementById('triB')?.value) || 0;
            const c = parseFloat(document.getElementById('triC')?.value) || 0;
            
            let result = 0, unit = '‡∏´‡∏ô‡πà‡∏ß‡∏¢';
            
            switch(calc) {
                case 'pythagoras':
                    result = Math.sqrt(a * a + b * b);
                    unit = '‡∏´‡∏ô‡πà‡∏ß‡∏¢ (‡∏î‡πâ‡∏≤‡∏ô‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡∏°‡∏∏‡∏°‡∏â‡∏≤‡∏Å)';
                    break;
                case 'area-base':
                    result = 0.5 * a * b;
                    unit = '‡∏ï‡∏£.‡∏´‡∏ô‡πà‡∏ß‡∏¢';
                    break;
                case 'area-heron':
                    const s = (a + b + c) / 2;
                    result = Math.sqrt(s * (s-a) * (s-b) * (s-c));
                    unit = '‡∏ï‡∏£.‡∏´‡∏ô‡πà‡∏ß‡∏¢';
                    break;
                case 'perimeter':
                    result = a + b + c;
                    unit = '‡∏´‡∏ô‡πà‡∏ß‡∏¢';
                    break;
            }
            
            document.getElementById('triangleValue').textContent = result.toFixed(4);
            document.getElementById('triangleUnit').textContent = unit;
            document.getElementById('triangleResult').style.display = 'block';
            
            addToHistory('‡∏™‡∏≤‡∏°‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°', calc, result.toFixed(2) + ' ' + unit);
        }
        
        // ===========================================
        // SHAPE CALCULATOR
        // ===========================================
        function updateShapeInputs() {
            const shape = document.getElementById('shapeType').value;
            let html = '';
            
            const inputs = {
                'circle': [['r', '‡∏£‡∏±‡∏®‡∏°‡∏µ r']],
                'rectangle': [['l', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß'], ['w', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á']],
                'triangle': [['b', '‡∏ê‡∏≤‡∏ô'], ['h', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á']],
                'sphere': [['r', '‡∏£‡∏±‡∏®‡∏°‡∏µ r']],
                'cylinder': [['r', '‡∏£‡∏±‡∏®‡∏°‡∏µ r'], ['h', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á h']],
                'cone': [['r', '‡∏£‡∏±‡∏®‡∏°‡∏µ r'], ['h', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á h']],
                'cube': [['a', '‡∏î‡πâ‡∏≤‡∏ô a']]
            };
            
            const fields = inputs[shape] || inputs['circle'];
            html = '<div class="row">';
            fields.forEach((f, i) => {
                html += `<div class="col-${12/fields.length}">
                    <label class="form-label-custom">${f[1]}</label>
                    <input type="number" class="form-control-custom" id="shape${String.fromCharCode(65+i)}" placeholder="${f[0]}">
                </div>`;
            });
            html += '</div>';
            document.getElementById('shapeInputs').innerHTML = html;
        }
        
        function calculateShape() {
            const shape = document.getElementById('shapeType').value;
            const a = parseFloat(document.getElementById('shapeA')?.value) || 0;
            const b = parseFloat(document.getElementById('shapeB')?.value) || 0;
            
            let result = 0, unit = '';
            
            switch(shape) {
                case 'circle': result = Math.PI * a * a; unit = '‡∏ï‡∏£.‡∏´‡∏ô‡πà‡∏ß‡∏¢'; break;
                case 'rectangle': result = a * b; unit = '‡∏ï‡∏£.‡∏´‡∏ô‡πà‡∏ß‡∏¢'; break;
                case 'triangle': result = 0.5 * a * b; unit = '‡∏ï‡∏£.‡∏´‡∏ô‡πà‡∏ß‡∏¢'; break;
                case 'sphere': result = (4/3) * Math.PI * Math.pow(a, 3); unit = '‡∏•‡∏ö.‡∏´‡∏ô‡πà‡∏ß‡∏¢'; break;
                case 'cylinder': result = Math.PI * a * a * b; unit = '‡∏•‡∏ö.‡∏´‡∏ô‡πà‡∏ß‡∏¢'; break;
                case 'cone': result = (1/3) * Math.PI * a * a * b; unit = '‡∏•‡∏ö.‡∏´‡∏ô‡πà‡∏ß‡∏¢'; break;
                case 'cube': result = Math.pow(a, 3); unit = '‡∏•‡∏ö.‡∏´‡∏ô‡πà‡∏ß‡∏¢'; break;
            }
            
            document.getElementById('shapeValue').textContent = result.toFixed(4);
            document.getElementById('shapeUnit').textContent = unit;
            document.getElementById('shapeResult').style.display = 'block';
            
            addToHistory('‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á', shape, result.toFixed(2) + ' ' + unit);
        }
        
        // ===========================================
        // PERCENTAGE CALCULATOR
        // ===========================================
        function calculatePercent() {
            const type = document.getElementById('percentType').value;
            const x = parseFloat(document.getElementById('percentX').value) || 0;
            const y = parseFloat(document.getElementById('percentY').value) || 0;
            
            let result = 0, unit = '';
            
            switch(type) {
                case 'of': result = (x / 100) * y; unit = `${x}% ‡∏Ç‡∏≠‡∏á ${y}`; break;
                case 'is': result = (x / y) * 100; unit = '%'; break;
                case 'change': result = ((y - x) / x) * 100; unit = '% ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á'; break;
                case 'increase': result = y + (x / 100) * y; unit = `‡πÄ‡∏û‡∏¥‡πà‡∏° ${x}%`; break;
                case 'decrease': result = y - (x / 100) * y; unit = `‡∏•‡∏î ${x}%`; break;
            }
            
            document.getElementById('percentValue').textContent = result.toFixed(4);
            document.getElementById('percentUnit').textContent = unit;
            document.getElementById('percentResult').style.display = 'block';
            
            addToHistory('‡∏£‡πâ‡∏≠‡∏¢‡∏•‡∏∞', type, result.toFixed(2) + ' ' + unit);
        }
        
        // ===========================================
        // FINANCE CALCULATORS
        // ===========================================
        function calculateLoan() {
            const principal = parseFloat(document.getElementById('loanAmount').value) || 0;
            const rate = parseFloat(document.getElementById('loanRate').value) / 100 / 12;
            const months = parseFloat(document.getElementById('loanYears').value) * 12;
            
            let monthly, total, interest;
            
            if (rate === 0) {
                monthly = principal / months;
                total = principal;
                interest = 0;
            } else {
                monthly = principal * (rate * Math.pow(1 + rate, months)) / (Math.pow(1 + rate, months) - 1);
                total = monthly * months;
                interest = total - principal;
            }
            
            document.getElementById('monthlyPayment').textContent = Math.round(monthly).toLocaleString();
            document.getElementById('totalPayment').textContent = Math.round(total).toLocaleString();
            document.getElementById('totalInterest').textContent = Math.round(interest).toLocaleString();
            document.getElementById('loanResult').style.display = 'block';
            
            addToHistory('‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏π‡πâ ‡∏Å‡∏¢‡∏®.', principal.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó', Math.round(monthly).toLocaleString() + ' ‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô');
        }
        
        function updateTuitionEstimate() {
            const type = document.getElementById('uniType').value;
            const estimates = {
                'public': 25000,
                'private': 50000,
                'inter': 120000
            };
            document.getElementById('tuitionFee').value = estimates[type];
        }
        
        function calculateTotalCost() {
            const tuition = parseFloat(document.getElementById('tuitionFee').value) || 0;
            const semesters = parseFloat(document.getElementById('totalSemesters').value) || 0;
            const dorm = parseFloat(document.getElementById('dormFee').value) || 0;
            const living = parseFloat(document.getElementById('livingCost').value) || 0;
            
            const totalTuition = tuition * semesters;
            const months = semesters * 4;
            const totalLiving = (dorm + living) * months;
            const grandTotal = totalTuition + totalLiving;
            
            document.getElementById('totalTuition').textContent = Math.round(totalTuition).toLocaleString();
            document.getElementById('totalLiving').textContent = Math.round(totalLiving).toLocaleString();
            document.getElementById('grandTotal').textContent = Math.round(grandTotal).toLocaleString();
            document.getElementById('tuitionResult').style.display = 'block';
            
            addToHistory('‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤', semesters + ' ‡πÄ‡∏ó‡∏≠‡∏°', Math.round(grandTotal).toLocaleString() + ' ‡∏ö‡∏≤‡∏ó');
        }
        
        function calculateSavings() {
            const goal = parseFloat(document.getElementById('savingsGoal').value) || 0;
            const years = parseFloat(document.getElementById('savingsYears').value) || 1;
            const rate = parseFloat(document.getElementById('savingsRate').value) / 100 / 12;
            const months = years * 12;
            
            let monthly;
            if (rate === 0) {
                monthly = goal / months;
            } else {
                monthly = goal * rate / (Math.pow(1 + rate, months) - 1);
            }
            
            const totalSaved = monthly * months;
            const interest = goal - totalSaved;
            
            document.getElementById('monthlySave').textContent = Math.round(monthly).toLocaleString();
            document.getElementById('totalSaved').textContent = Math.round(totalSaved).toLocaleString();
            document.getElementById('interestEarned').textContent = Math.round(interest).toLocaleString();
            document.getElementById('savingsResult').style.display = 'block';
            
            addToHistory('‡∏≠‡∏≠‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤', goal.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó', Math.round(monthly).toLocaleString() + ' ‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô');
        }
        
        // ===========================================
        // STATISTICS CALCULATORS
        // ===========================================
        function calculateStatistics() {
            const input = document.getElementById('statsData').value;
            const data = input.split(',').map(x => parseFloat(x.trim())).filter(x => !isNaN(x));
            
            if (data.length === 0) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
                return;
            }
            
            const sorted = [...data].sort((a, b) => a - b);
            const n = data.length;
            
            const sum = data.reduce((a, b) => a + b, 0);
            const mean = sum / n;
            
            let median;
            if (n % 2 === 0) {
                median = (sorted[n/2 - 1] + sorted[n/2]) / 2;
            } else {
                median = sorted[Math.floor(n/2)];
            }
            
            const freq = {};
            data.forEach(x => freq[x] = (freq[x] || 0) + 1);
            const maxFreq = Math.max(...Object.values(freq));
            const modes = Object.keys(freq).filter(x => freq[x] === maxFreq);
            const mode = modes.length === n ? '‡πÑ‡∏°‡πà‡∏°‡∏µ' : modes.join(', ');
            
            const range = sorted[n-1] - sorted[0];
            
            const variance = data.reduce((acc, x) => acc + Math.pow(x - mean, 2), 0) / n;
            const sd = Math.sqrt(variance);
            
            document.getElementById('statsMean').textContent = mean.toFixed(2);
            document.getElementById('statsMedian').textContent = median.toFixed(2);
            document.getElementById('statsMode').textContent = mode;
            document.getElementById('statsRange').textContent = range.toFixed(2);
            document.getElementById('statsSD').textContent = sd.toFixed(2);
            document.getElementById('statsVar').textContent = variance.toFixed(2);
            document.getElementById('statsMin').textContent = sorted[0];
            document.getElementById('statsMax').textContent = sorted[n-1];
            document.getElementById('statsCount').textContent = n;
            document.getElementById('statsResult').style.display = 'block';
            
            addToHistory('‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥', n + ' ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', 'Mean=' + mean.toFixed(2) + ', SD=' + sd.toFixed(2));
        }
        
        function updateProbInputs() {
            const type = document.getElementById('probType').value;
            let html = '<div class="row">';
            
            switch(type) {
                case 'simple':
                    html += `<div class="col-6"><label class="form-label-custom">‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à n(A)</label>
                            <input type="number" class="form-control-custom" id="probA" placeholder="n(A)"></div>
                            <div class="col-6"><label class="form-label-custom">‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î n(S)</label>
                            <input type="number" class="form-control-custom" id="probS" placeholder="n(S)"></div>`;
                    break;
                case 'combination':
                case 'permutation':
                    html += `<div class="col-6"><label class="form-label-custom">n (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)</label>
                            <input type="number" class="form-control-custom" id="probA" placeholder="n"></div>
                            <div class="col-6"><label class="form-label-custom">r (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)</label>
                            <input type="number" class="form-control-custom" id="probS" placeholder="r"></div>`;
                    break;
                case 'binomial':
                    html += `<div class="col-4"><label class="form-label-custom">n (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</label>
                            <input type="number" class="form-control-custom" id="probA" placeholder="n"></div>
                            <div class="col-4"><label class="form-label-custom">k (‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)</label>
                            <input type="number" class="form-control-custom" id="probS" placeholder="k"></div>
                            <div class="col-4"><label class="form-label-custom">p (‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)</label>
                            <input type="number" class="form-control-custom" id="probP" placeholder="0.5" step="0.01"></div>`;
                    break;
            }
            html += '</div>';
            document.getElementById('probInputs').innerHTML = html;
        }
        
        function factorial(n) {
            if (n <= 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) result *= i;
            return result;
        }
        
        function calculateProbability() {
            const type = document.getElementById('probType').value;
            const a = parseInt(document.getElementById('probA')?.value) || 0;
            const s = parseInt(document.getElementById('probS')?.value) || 0;
            const p = parseFloat(document.getElementById('probP')?.value) || 0.5;
            
            let result = 0, unit = '';
            
            switch(type) {
                case 'simple':
                    result = a / s;
                    unit = 'P(A)';
                    break;
                case 'combination':
                    result = factorial(a) / (factorial(s) * factorial(a - s));
                    unit = `C(${a},${s})`;
                    break;
                case 'permutation':
                    result = factorial(a) / factorial(a - s);
                    unit = `P(${a},${s})`;
                    break;
                case 'binomial':
                    const comb = factorial(a) / (factorial(s) * factorial(a - s));
                    result = comb * Math.pow(p, s) * Math.pow(1 - p, a - s);
                    unit = 'P(X=k)';
                    break;
            }
            
            document.getElementById('probValue').textContent = type === 'combination' || type === 'permutation' ? result.toLocaleString() : result.toFixed(6);
            document.getElementById('probUnit').textContent = unit;
            document.getElementById('probPercent').textContent = (result * 100).toFixed(2) + '%';
            document.getElementById('probResult').style.display = 'block';
            
            addToHistory('‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô', unit, result.toFixed(4));
        }
        
        function calculateZScore() {
            const x = parseFloat(document.getElementById('normX').value) || 0;
            const mean = parseFloat(document.getElementById('normMean').value) || 0;
            const sd = parseFloat(document.getElementById('normSD').value) || 1;
            
            const z = (x - mean) / sd;
            
            function normalCDF(z) {
                const a1 =  0.254829592;
                const a2 = -0.284496736;
                const a3 =  1.421413741;
                const a4 = -1.453152027;
                const a5 =  1.061405429;
                const p  =  0.3275911;
                
                const sign = z < 0 ? -1 : 1;
                z = Math.abs(z) / Math.sqrt(2);
                const t = 1.0 / (1.0 + p * z);
                const y = 1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-z * z);
                return 0.5 * (1.0 + sign * y);
            }
            
            const cdf = normalCDF(z) * 100;
            
            document.getElementById('zScore').textContent = z.toFixed(4);
            document.getElementById('zPercent').textContent = cdf.toFixed(2) + '%';
            document.getElementById('normResult').style.display = 'block';
            
            addToHistory('Z-Score', 'X=' + x, 'Z=' + z.toFixed(2));
        }
        
        // ===========================================
        // STUDY TOOLS
        // ===========================================
        let timerInterval = null;
        let timerSeconds = 25 * 60;
        let pomodoroCount = parseInt(localStorage.getItem('pomodoroCount') || '0');
        
        function setTimer(minutes) {
            timerSeconds = minutes * 60;
            updateTimerDisplay();
            document.getElementById('timerStatus').textContent = minutes + ' ‡∏ô‡∏≤‡∏ó‡∏µ - ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°';
        }
        
        function updateTimerDisplay() {
            const mins = Math.floor(timerSeconds / 60);
            const secs = timerSeconds % 60;
            document.getElementById('timerDisplay').textContent = 
                String(mins).padStart(2, '0') + ':' + String(secs).padStart(2, '0');
        }
        
        function startTimer() {
            if (timerInterval) return;
            document.getElementById('timerStatus').textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤...';
            timerInterval = setInterval(() => {
                timerSeconds--;
                updateTimerDisplay();
                if (timerSeconds <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    document.getElementById('timerStatus').textContent = 'üéâ ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏ß‡∏•‡∏≤!';
                    pomodoroCount++;
                    localStorage.setItem('pomodoroCount', pomodoroCount);
                    document.getElementById('pomodoroCount').textContent = pomodoroCount;
                    try {
                        const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2telezkfVJHA6Nt9QABJmbTq54xQAkSIsN/qlWYgPIWs2eylaC82gaPd7KlxLzN+oNntr3gzM3me1e+zfDUyeJvT8LaBNy95mNHwtIU4Lnid0/CzgzcueJrS8bKCOC54mdLxs4I4Lnic0/KzgzcueJrT8bOCOC54m9PxsoI4');
                        audio.play();
                    } catch(e) {}
                    alert('‚è∞ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡πâ‡∏ß! ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà');
                }
            }, 1000);
        }
        
        function pauseTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            document.getElementById('timerStatus').textContent = '‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß';
        }
        
        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            timerSeconds = 25 * 60;
            updateTimerDisplay();
            document.getElementById('timerStatus').textContent = '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°';
        }
        
        function calculateRequiredScore() {
            const current = parseFloat(document.getElementById('currentScore').value) || 0;
            const currentWeight = parseFloat(document.getElementById('currentWeight').value) / 100 || 0.4;
            const target = parseFloat(document.getElementById('targetGradeCalc').value) || 60;
            const finalWeight = parseFloat(document.getElementById('finalWeight').value) / 100 || 0.6;
            
            const currentContribution = current * currentWeight;
            const needed = (target - currentContribution) / finalWeight;
            
            document.getElementById('requiredScore').textContent = needed.toFixed(1);
            
            const alertDiv = document.getElementById('scoreAlert');
            if (needed > 100) {
                alertDiv.className = 'alert alert-danger';
                alertDiv.innerHTML = '‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÑ‡∏î‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 100 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô';
            } else if (needed <= 0) {
                alertDiv.className = 'alert alert-success';
                alertDiv.innerHTML = '‚úÖ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö Final';
            } else if (needed <= 60) {
                alertDiv.className = 'alert alert-success';
                alertDiv.innerHTML = '‚úÖ ‡πÑ‡∏°‡πà‡∏¢‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏™‡∏π‡πâ‡πÜ!';
            } else if (needed <= 80) {
                alertDiv.className = 'alert alert-warning';
                alertDiv.innerHTML = '‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡πÅ‡∏ï‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ!';
            } else {
                alertDiv.className = 'alert alert-danger';
                alertDiv.innerHTML = '‚ö†Ô∏è ‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏¢‡∏≤‡∏Å ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡πâ‡∏î‡∏µ';
            }
            
            document.getElementById('requiredResult').style.display = 'block';
            addToHistory('‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£', '‡πÄ‡∏Å‡∏£‡∏î ' + target, needed.toFixed(1) + ' ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô');
        }
        
        function convertBase() {
            const input = document.getElementById('baseInput').value.toUpperCase();
            const from = parseInt(document.getElementById('baseFrom').value);
            
            if (!input) {
                document.getElementById('baseBinary').textContent = '0';
                document.getElementById('baseDecimal').textContent = '0';
                document.getElementById('baseOctal').textContent = '0';
                document.getElementById('baseHex').textContent = '0';
                return;
            }
            
            try {
                const decimal = parseInt(input, from);
                if (isNaN(decimal)) throw new Error('Invalid');
                
                document.getElementById('baseBinary').textContent = decimal.toString(2);
                document.getElementById('baseDecimal').textContent = decimal.toString(10);
                document.getElementById('baseOctal').textContent = decimal.toString(8);
                document.getElementById('baseHex').textContent = decimal.toString(16).toUpperCase();
            } catch(e) {
                document.getElementById('baseBinary').textContent = 'Error';
                document.getElementById('baseDecimal').textContent = 'Error';
                document.getElementById('baseOctal').textContent = 'Error';
                document.getElementById('baseHex').textContent = 'Error';
            }
        }
        
        function calculateStudyPlan() {
            const pages = parseFloat(document.getElementById('totalPages').value) || 0;
            const days = parseFloat(document.getElementById('totalDays').value) || 1;
            const speed = parseFloat(document.getElementById('readingSpeed').value) || 30;
            
            const pagesPerDay = Math.ceil(pages / days);
            const hoursPerDay = (pagesPerDay / speed).toFixed(1);
            
            document.getElementById('pagesPerDay').textContent = pagesPerDay;
            document.getElementById('hoursPerDay').textContent = hoursPerDay;
            document.getElementById('studyPlanResult').style.display = 'block';
            
            addToHistory('‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠', pages + ' ‡∏´‡∏ô‡πâ‡∏≤/' + days + ' ‡∏ß‡∏±‡∏ô', pagesPerDay + ' ‡∏´‡∏ô‡πâ‡∏≤/‡∏ß‡∏±‡∏ô');
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            animateCounters();
            loadCalculationHistory();
            
            // Initialize Pomodoro count
            if (document.getElementById('pomodoroCount')) {
                document.getElementById('pomodoroCount').textContent = pomodoroCount;
            }
            
            // Initialize unit converter
            if (document.getElementById('unitType')) {
                updateUnitOptions();
            }
            
            // Initialize physics inputs
            if (document.getElementById('physicsFormula')) {
                updatePhysicsInputs();
            }
            
            // Initialize chem inputs
            if (document.getElementById('chemFormula')) {
                updateChemInputs();
            }
            
            // Initialize triangle inputs
            if (document.getElementById('triangleCalc')) {
                updateTriangleInputs();
            }
            
            // Initialize shape inputs
            if (document.getElementById('shapeType')) {
                updateShapeInputs();
            }
        });
    </script>
</body>
</html>