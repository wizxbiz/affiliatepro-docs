<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Injection Molding Simulation Pro</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Prompt', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: rgba(0, 0, 0, 0.9);
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 10px;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            transform: translateY(10px);
            font-size: 14px;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }
        
        .nav-tab {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-tab:hover {
            transform: translateY(-2px);
        }
        
        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: #667eea;
            border-radius: 2px;
        }
        
        .input-field {
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .status-ready { background-color: #10b981; }
        .status-running { background-color: #3b82f6; }
        .status-warning { background-color: #f59e0b; }
        .status-error { background-color: #ef4444; }
        
        .simulation-canvas {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .defect-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .defect-card:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        @media (max-width: 640px) {
            .tooltiptext {
                width: 200px;
                margin-left: -100px;
                font-size: 12px;
            }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col sm:flex-row items-center justify-between">
                <div>
                    <h1 class="text-2xl sm:text-3xl font-bold flex items-center gap-2">
                        <span class="text-4xl">üè≠</span>
                        Injection Molding Simulation Pro
                    </h1>
                    <p class="text-sm sm:text-base opacity-90 mt-1">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á v2.0</p>
                </div>
                <div class="mt-4 sm:mt-0 flex items-center gap-4">
                    <span class="status-indicator status-ready"></span>
                    <span class="text-sm">‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-10">
        <div class="container mx-auto px-4">
            <div class="flex overflow-x-auto gap-6 py-4">
                <button class="nav-tab active whitespace-nowrap px-3 py-2 text-gray-700 hover:text-gray-900 font-medium" onclick="showSection('basic-params')">
                    ‚öôÔ∏è ‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
                </button>
                <button class="nav-tab whitespace-nowrap px-3 py-2 text-gray-700 hover:text-gray-900 font-medium" onclick="showSection('cavity-system')">
                    üèóÔ∏è ‡∏£‡∏∞‡∏ö‡∏ö Cavity
                </button>
                <button class="nav-tab whitespace-nowrap px-3 py-2 text-gray-700 hover:text-gray-900 font-medium" onclick="showSection('material-props')">
                    üß™ ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ß‡∏±‡∏™‡∏î‡∏∏
                </button>
                <button class="nav-tab whitespace-nowrap px-3 py-2 text-gray-700 hover:text-gray-900 font-medium" onclick="showSection('simulation')">
                    üé¨ ‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á
                </button>
                <button class="nav-tab whitespace-nowrap px-3 py-2 text-gray-700 hover:text-gray-900 font-medium" onclick="showSection('analysis')">
                    üìä ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå
                </button>
                <button class="nav-tab whitespace-nowrap px-3 py-2 text-gray-700 hover:text-gray-900 font-medium" onclick="showSection('report')">
                    üìã ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Basic Parameters Section -->
        <section id="basic-params" class="section animate-fade-in">
            <div class="glass-effect rounded-xl p-6 mb-8">
                <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                    <span class="text-3xl">üîß</span>
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö
                </h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (‡∏ï‡∏±‡∏ô)</label>
                        <select id="machine-size" class="input-field w-full p-3 rounded-lg" onchange="updateRecommendedValues()">
                            <option value="30">30 ‡∏ï‡∏±‡∏ô (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πá‡∏Å)</option>
                            <option value="50">50 ‡∏ï‡∏±‡∏ô</option>
                            <option value="100">100 ‡∏ï‡∏±‡∏ô (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•‡∏≤‡∏á)</option>
                            <option value="150">150 ‡∏ï‡∏±‡∏ô</option>
                            <option value="200">200 ‡∏ï‡∏±‡∏ô (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà)</option>
                            <option value="250">250 ‡∏ï‡∏±‡∏ô</option>
                            <option value="300">300 ‡∏ï‡∏±‡∏ô (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏Å)</option>
                        </select>
                        <span class="tooltiptext">‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏â‡∏µ‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏à‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÅ‡∏£‡∏á‡∏´‡∏ô‡∏µ‡∏ö Shot Size ‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å</label>
                        <select id="plastic-type" class="input-field w-full p-3 rounded-lg" onchange="updateRecommendedValues()">
                            <option value="ABS">ABS (Acrylonitrile Butadiene Styrene)</option>
                            <option value="PP">PP (Polypropylene)</option>
                            <option value="PE">PE (Polyethylene)</option>
                            <option value="PS">PS (Polystyrene)</option>
                            <option value="PC">PC (Polycarbonate)</option>
                            <option value="PA">PA (Nylon)</option>
                            <option value="POM">POM (Polyoxymethylene)</option>
                            <option value="PMMA">PMMA (Acrylic)</option>
                        </select>
                        <span class="tooltiptext">‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏≠‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏∑‡∏î ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡πà‡∏≤‡∏á‡πÜ</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Gate</label>
                        <select id="gate-type" class="input-field w-full p-3 rounded-lg">
                            <option value="side">Side Gate (‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á)</option>
                            <option value="direct">Direct Gate (‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ï‡πà‡∏≥)</option>
                            <option value="fan">Fan Gate (‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡∏î‡∏µ)</option>
                            <option value="pin">Pin Gate (‡∏£‡∏≠‡∏¢‡πÄ‡∏•‡πá‡∏Å)</option>
                            <option value="submarine">Submarine Gate (Auto-degating)</option>
                            <option value="hot-runner">Hot Runner (‡πÑ‡∏°‡πà‡∏°‡∏µ Runner waste)</option>
                        </select>
                        <span class="tooltiptext">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Gate ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô</span>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Ç‡∏ô‡∏≤‡∏î Screw (mm)</label>
                        <input id="screw-size" type="number" value="20" class="input-field w-full p-3 rounded-lg">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Max Shot (g)</label>
                        <input id="max-shot" type="number" value="0" class="input-field w-full p-3 rounded-lg bg-gray-50" readonly>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡πÅ‡∏£‡∏á‡∏´‡∏ô‡∏µ‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (‡∏ï‡∏±‡∏ô)</label>
                        <input id="clamping-force" type="number" value="30" class="input-field w-full p-3 rounded-lg bg-gray-50" readonly>
                    </div>
                </div>
            </div>

            <!-- Temperature Settings -->
            <div class="glass-effect rounded-xl p-6 mb-8">
                <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                    <span class="text-3xl">üå°Ô∏è</span>
                    ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥
                </h2>
                
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                    <p class="text-sm text-blue-700">
                        <strong>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</strong> ‡∏Ñ‡πà‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô placeholder ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á
                    </p>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Nozzle (¬∞C) *</label>
                        <input id="nozzle-temp" type="number" class="input-field w-full p-3 rounded-lg" placeholder="230-250 for ABS">
                        <span class="tooltiptext">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏ß‡∏â‡∏µ‡∏î ‡∏Ñ‡∏ß‡∏£‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ Zone ‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Zone 1 (¬∞C) *</label>
                        <input id="zone1-temp" type="number" class="input-field w-full p-3 rounded-lg" placeholder="220-240 for ABS">
                        <span class="tooltiptext">‡πÇ‡∏ã‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏±‡∏ß‡∏â‡∏µ‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏≠‡∏°‡πÄ‡∏´‡∏•‡∏ß</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Zone 2 (¬∞C) *</label>
                        <input id="zone2-temp" type="number" class="input-field w-full p-3 rounded-lg" placeholder="210-230 for ABS">
                        <span class="tooltiptext">‡πÇ‡∏ã‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏à‡∏≤‡∏Å Zone 1</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Zone 3 (¬∞C) *</label>
                        <input id="zone3-temp" type="number" class="input-field w-full p-3 rounded-lg" placeholder="200-220 for ABS">
                        <span class="tooltiptext">‡πÇ‡∏ã‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ Hopper ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡πâ‡∏≠‡∏ô‡πÑ‡∏´‡∏•</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå (¬∞C)</label>
                        <input id="mold-temp" type="number" class="input-field w-full p-3 rounded-lg" placeholder="50-80 for ABS">
                        <span class="tooltiptext">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ú‡∏¥‡∏ß‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á (¬∞C)</label>
                        <input id="drying-temp" type="number" class="input-field w-full p-3 rounded-lg" placeholder="80 for ABS">
                        <span class="tooltiptext">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á (‡∏ä‡∏°.)</label>
                        <input id="drying-time" type="number" class="input-field w-full p-3 rounded-lg" placeholder="2-4 for ABS">
                        <span class="tooltiptext">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏à‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ (%)</label>
                        <input id="moisture-content" type="number" step="0.01" class="input-field w-full p-3 rounded-lg" placeholder="0.1 for ABS">
                        <span class="tooltiptext">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</span>
                    </div>
                </div>
            </div>

            <!-- Injection Parameters -->
            <div class="glass-effect rounded-xl p-6">
                <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                    <span class="text-3xl">üíâ</span>
                    ‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î
                </h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏â‡∏µ‡∏î (bar) *</label>
                        <input id="injection-pressure" type="number" class="input-field w-full p-3 rounded-lg" placeholder="1000-1400 for ABS">
                        <span class="tooltiptext">‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏â‡∏µ‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå ‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏£‡∏µ‡∏ö</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏â‡∏µ‡∏î (mm/s) *</label>
                        <input id="injection-speed" type="number" class="input-field w-full p-3 rounded-lg" placeholder="50-100 for ABS">
                        <span class="tooltiptext">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å ‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏£‡∏≠‡∏¢‡πÑ‡∏´‡∏°‡πâ</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡∏â‡∏µ‡∏î (s) *</label>
                        <input id="injection-time" type="number" step="0.1" class="input-field w-full p-3 rounded-lg" placeholder="1-3 for ABS">
                        <span class="tooltiptext">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏¢‡πâ‡∏≥ (bar) *</label>
                        <input id="holding-pressure" type="number" class="input-field w-full p-3 rounded-lg" placeholder="600-1000 for ABS">
                        <span class="tooltiptext">‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏¢‡πâ‡∏≥‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏î‡∏ï‡∏±‡∏ß</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡∏¢‡πâ‡∏≥ (s) *</label>
                        <input id="holding-time" type="number" step="0.1" class="input-field w-full p-3 rounded-lg" placeholder="2-5 for ABS">
                        <span class="tooltiptext">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡πâ‡∏≥‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡∏Ç‡∏≠‡∏á‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô (s) *</label>
                        <input id="cooling-time" type="number" step="0.1" class="input-field w-full p-3 rounded-lg" placeholder="5-15 for ABS">
                        <span class="tooltiptext">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡πÅ‡∏Ç‡πá‡∏á‡∏ï‡∏±‡∏ß</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Back Pressure (bar)</label>
                        <input id="back-pressure" type="number" class="input-field w-full p-3 rounded-lg" placeholder="50-150">
                        <span class="tooltiptext">‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏ú‡∏™‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Screw Speed (rpm)</label>
                        <input id="screw-speed" type="number" class="input-field w-full p-3 rounded-lg" placeholder="50-150">
                        <span class="tooltiptext">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡∏™‡∏Å‡∏£‡∏π‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Cushion (mm)</label>
                        <input id="cushion" type="number" step="0.1" class="input-field w-full p-3 rounded-lg" placeholder="3-5">
                        <span class="tooltiptext">‡∏£‡∏∞‡∏¢‡∏∞‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏ö‡∏≠‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏¢‡πâ‡∏≥</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cavity System Section -->
        <section id="cavity-system" class="section hidden animate-fade-in">
            <div class="glass-effect rounded-xl p-6">
                <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                    <span class="text-3xl">üèóÔ∏è</span>
                    ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö Cavity
                </h2>
                
                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-6">
                    <p class="text-sm text-yellow-700">
                        <strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong> ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Cavity ‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡∏á‡∏´‡∏ô‡∏µ‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
                    </p>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Cavity</label>
                        <select id="cavity-count" class="input-field w-full p-3 rounded-lg" onchange="updateCavityInfo()">
                            <option value="1">1 Cavity (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö)</option>
                            <option value="2">2 Cavity (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏≤‡∏û 2 ‡πÄ‡∏ó‡πà‡∏≤)</option>
                            <option value="4">4 Cavity (‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û)</option>
                            <option value="8">8 Cavity (‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡πÅ‡∏ï‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô)</option>
                            <option value="16">16 Cavity (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÄ‡∏•‡πá‡∏Å)</option>
                            <option value="32">32 Cavity (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å)</option>
                        </select>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á</label>
                        <select id="cavity-layout" class="input-field w-full p-3 rounded-lg">
                            <option value="balanced">Balanced Layout (‡∏™‡∏°‡∏î‡∏∏‡∏•)</option>
                            <option value="linear">Linear Layout (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ñ‡∏ß)</option>
                            <option value="circular">Circular Layout (‡∏ß‡∏á‡∏Å‡∏•‡∏°)</option>
                            <option value="custom">Custom Layout (‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á)</option>
                        </select>
                        <span class="tooltiptext">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á Cavity ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠ Cavity (g) *</label>
                        <input id="cavity-weight" type="number" step="0.01" class="input-field w-full p-3 rounded-lg" onchange="updateCavityInfo()">
                        <span class="tooltiptext">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏ï‡πà‡∏≠ 1 Cavity ‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏° Runner System</span>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å Cavity (g)</label>
                        <input id="total-cavity-weight" type="number" class="input-field w-full p-3 rounded-lg bg-gray-50" readonly>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å Runner System (g)</label>
                        <input id="runner-weight" type="number" step="0.01" class="input-field w-full p-3 rounded-lg" onchange="updateCavityInfo()">
                        <span class="tooltiptext">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö Runner ‡∏£‡∏ß‡∏° Sprue ‡πÅ‡∏•‡∏∞ Gate</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Runner</label>
                        <select id="runner-type" class="input-field w-full p-3 rounded-lg">
                            <option value="cold">Cold Runner</option>
                            <option value="hot">Hot Runner</option>
                            <option value="insulated">Insulated Runner</option>
                        </select>
                        <span class="tooltiptext">Cold Runner: ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ï‡πà‡∏≥‡πÅ‡∏ï‡πà‡∏°‡∏µ waste | Hot Runner: ‡πÑ‡∏°‡πà‡∏°‡∏µ waste ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏™‡∏π‡∏á</span>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Shot Size ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ (mm)</label>
                        <input id="calculated-shot-size" type="number" class="input-field w-full p-3 rounded-lg bg-gray-50" readonly>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Shot Size ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á (mm) *</label>
                        <input id="actual-shot-size" type="number" step="0.1" class="input-field w-full p-3 rounded-lg">
                        <span class="tooltiptext">‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏Å‡∏£‡∏π‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≠‡∏ö</span>
                    </div>
                    
                    <div class="col-span-1 sm:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Cavity Balance Analysis</label>
                        <div class="bg-gray-100 p-4 rounded-lg">
                            <div class="flex items-center justify-between mb-2">
                                <span>Flow Balance:</span>
                                <span id="flow-balance" class="font-semibold text-green-600">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span>Pressure Drop Variation:</span>
                                <span id="pressure-variation" class="font-semibold text-blue-600">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Material Properties Section -->
        <section id="material-props" class="section hidden animate-fade-in">
            <div class="glass-effect rounded-xl p-6">
                <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                    <span class="text-3xl">üß™</span>
                    ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ß‡∏±‡∏™‡∏î‡∏∏‡πÇ‡∏î‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
                </h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏∑‡∏î (Pa¬∑s @ ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏õ‡∏£‡∏£‡∏π‡∏õ)</label>
                        <input id="viscosity" type="number" step="0.01" value="0.3" class="input-field w-full p-3 rounded-lg">
                        <span class="tooltiptext">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏∑‡∏î‡∏Ç‡∏≠‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏≠‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô (g/cm¬≥)</label>
                        <input id="density" type="number" step="0.01" value="1.05" class="input-field w-full p-3 rounded-lg">
                        <span class="tooltiptext">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Å‡∏≤‡∏£‡∏´‡∏î‡∏ï‡∏±‡∏ß (%)</label>
                        <input id="shrinkage" type="number" step="0.1" value="0.5" class="input-field w-full p-3 rounded-lg">
                        <span class="tooltiptext">‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏Å‡∏≤‡∏£‡∏´‡∏î‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏¢‡πá‡∏ô‡∏ï‡∏±‡∏ß ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÅ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Melt Flow Index (g/10min)</label>
                        <input id="mfi" type="number" step="0.1" class="input-field w-full p-3 rounded-lg" placeholder="10-20 for ABS">
                        <span class="tooltiptext">‡∏Ñ‡πà‡∏≤ MFI ‡∏ö‡πà‡∏á‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏≠‡∏°‡πÄ‡∏´‡∏•‡∏ß</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Glass Transition Temp (¬∞C)</label>
                        <input id="glass-transition" type="number" class="input-field w-full p-3 rounded-lg" placeholder="105 for ABS">
                        <span class="tooltiptext">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ó‡∏µ‡πà‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏Ç‡πá‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ejection Temperature (¬∞C)</label>
                        <input id="ejection-temp" type="number" class="input-field w-full p-3 rounded-lg" placeholder="80 for ABS">
                        <span class="tooltiptext">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Specific Heat (J/g¬∑K)</label>
                        <input id="specific-heat" type="number" step="0.01" class="input-field w-full p-3 rounded-lg" placeholder="1.2-2.0">
                        <span class="tooltiptext">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏≥‡πÄ‡∏û‡∏≤‡∏∞ ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏≠‡∏°‡πÄ‡∏´‡∏•‡∏ß‡πÅ‡∏•‡∏∞‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Thermal Conductivity (W/m¬∑K)</label>
                        <input id="thermal-conductivity" type="number" step="0.01" class="input-field w-full p-3 rounded-lg" placeholder="0.15-0.25">
                        <span class="tooltiptext">‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô</span>
                    </div>
                    
                    <div class="tooltip">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Max Shear Rate (1/s)</label>
                        <input id="max-shear-rate" type="number" class="input-field w-full p-3 rounded-lg" placeholder="10000-50000">
                        <span class="tooltiptext">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏â‡∏∑‡∏≠‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ ‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î degradation</span>
                    </div>
                </div>
                
                <div class="mt-6">
                    <h3 class="text-lg font-semibold mb-4">‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏•</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tensile Strength (MPa)</label>
                            <input id="tensile-strength" type="number" class="input-field w-full p-3 rounded-lg" placeholder="40-50 for ABS">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Flexural Modulus (GPa)</label>
                            <input id="flexural-modulus" type="number" step="0.1" class="input-field w-full p-3 rounded-lg" placeholder="2.0-2.5 for ABS">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Impact Strength (kJ/m¬≤)</label>
                            <input id="impact-strength" type="number" class="input-field w-full p-3 rounded-lg" placeholder="15-25 for ABS">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Simulation Section -->
        <section id="simulation" class="section hidden animate-fade-in">
            <div class="glass-effect rounded-xl p-6 mb-8">
                <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                    <span class="text-3xl">üé¨</span>
                    ‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å
                </h2>
                
                <div class="flex flex-wrap gap-4 mb-6">
                    <button id="start-simulation" class="btn-primary px-6 py-3 text-white rounded-lg font-medium">
                        üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á
                    </button>
                    <button id="pause-simulation" class="px-6 py-3 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-medium transition-all">
                        ‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
                    </button>
                    <button id="stop-simulation" class="px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all">
                        ‚èπÔ∏è ‡∏´‡∏¢‡∏∏‡∏î
                    </button>
                    <button id="reset-simulation" class="px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium transition-all">
                        üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
                    </button>
                </div>
                
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-medium">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤:</span>
                        <span id="progress" class="font-semibold text-lg">0%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div id="progress-bar" class="bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold mb-3">üé® ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á</h3>
                        <canvas id="simulation-animation" class="w-full h-64 bg-gray-100 rounded-lg simulation-canvas"></canvas>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-semibold mb-3">üìä ‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö Real-time</h3>
                        <canvas id="simulation-chart" class="w-full h-64"></canvas>
                    </div>
                </div>
                
                <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</p>
                        <p class="text-2xl font-bold text-blue-600" id="current-pressure">0 bar</p>
                    </div>
                    <div class="bg-red-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</p>
                        <p class="text-2xl font-bold text-red-600" id="current-temp">0¬∞C</p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•</p>
                        <p class="text-2xl font-bold text-green-600" id="flow-rate">0 cm¬≥/s</p>
                    </div>
                </div>
            </div>
            
            <div class="glass-effect rounded-xl p-6">
                <h3 class="text-xl font-semibold mb-4">üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á</h3>
                <div class="bg-gray-100 rounded-lg p-4 h-48 overflow-y-auto font-mono text-sm" id="simulation-log">
                    <p class="text-green-600">[‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô] ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á</p>
                </div>
                <button id="clear-log" class="mt-4 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all">
                    üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                </button>
            </div>
        </section>

        <!-- Analysis Section -->
        <section id="analysis" class="section hidden animate-fade-in">
            <div class="glass-effect rounded-xl p-6 mb-8">
                <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                    <span class="text-3xl">üìä</span>
                    ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á
                </h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold mb-4">‚ö†Ô∏è ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏ö‡∏Å‡∏û‡∏£‡πà‡∏≠‡∏á</h3>
                        <div id="defect-cards" class="space-y-3">
                            <!-- Defect cards will be dynamically added here -->
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-semibold mb-4">üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á</h3>
                        <div id="recommendation-cards" class="space-y-3">
                            <!-- Recommendation cards will be dynamically added here -->
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="glass-effect rounded-xl p-6 mb-8">
                <h3 class="text-xl font-semibold mb-4">üí∞ ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</p>
                        <p class="text-xl font-bold" id="material-cost">0 ‡∏ö‡∏≤‡∏ó/‡∏ä‡∏¥‡πâ‡∏ô</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô</p>
                        <p class="text-xl font-bold" id="energy-cost">0 ‡∏ö‡∏≤‡∏ó/‡∏ä‡∏¥‡πâ‡∏ô</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô</p>
                        <p class="text-xl font-bold" id="labor-cost">0 ‡∏ö‡∏≤‡∏ó/‡∏ä‡∏¥‡πâ‡∏ô</p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°</p>
                        <p class="text-xl font-bold text-green-600" id="total-cost">0 ‡∏ö‡∏≤‡∏ó/‡∏ä‡∏¥‡πâ‡∏ô</p>
                    </div>
                </div>
                
                <div class="mt-6">
                    <h4 class="font-semibold mb-3">üìà ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï</h4>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                        <div>
                            <p class="text-sm text-gray-600">Cycle Time</p>
                            <p class="text-lg font-semibold" id="cycle-time">0 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏ï‡πà‡∏≠‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</p>
                            <p class="text-lg font-semibold" id="hourly-output">0 ‡∏ä‡∏¥‡πâ‡∏ô</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600">OEE (Overall Equipment Effectiveness)</p>
                            <p class="text-lg font-semibold" id="oee">0%</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="glass-effect rounded-xl p-6">
                <h3 class="text-xl font-semibold mb-4">üî¨ ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <canvas id="quality-chart"></canvas>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</h4>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°:</span>
                                <span class="font-semibold" id="quality-score">0/100</span>
                            </div>
                            <div class="flex justify-between">
                                <span>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏ö‡∏Å‡∏û‡∏£‡πà‡∏≠‡∏á:</span>
                                <span class="font-semibold" id="defect-risk">‡∏ï‡πà‡∏≥</span>
                            </div>
                            <div class="flex justify-between">
                                <span>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠:</span>
                                <span class="font-semibold" id="consistency">‡∏î‡∏µ‡∏°‡∏≤‡∏Å</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Report Section -->
        <section id="report" class="section hidden animate-fade-in">
            <div class="glass-effect rounded-xl p-6 mb-8">
                <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                    <span class="text-3xl">üìã</span>
                    ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á
                </h2>
                
                <div class="flex flex-wrap gap-4 mb-6">
                    <button id="generate-report" class="btn-primary px-6 py-3 text-white rounded-lg font-medium">
                        üìä ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                    </button>
                    <button id="export-pdf" class="px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-all">
                        üìÑ Export PDF
                    </button>
                    <button id="export-excel" class="px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-all">
                        üìó Export Excel
                    </button>
                    <button id="print-report" class="px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-all">
                        üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                    </button>
                </div>
                
                <div id="report-content" class="bg-white rounded-lg p-6 shadow-inner">
                    <p class="text-gray-500 text-center">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏£‡∏∏‡∏õ</p>
                </div>
            </div>
            
            <div class="glass-effect rounded-xl p-6">
                <h3 class="text-xl font-semibold mb-4">üíæ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                    <input id="profile-name" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå" class="input-field p-3 rounded-lg">
                    <select id="saved-profiles" class="input-field p-3 rounded-lg">
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå --</option>
                    </select>
                </div>
                <div class="flex flex-wrap gap-4">
                    <button id="save-profile" class="px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-all">
                        üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
                    </button>
                    <button id="load-profile" class="px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-all">
                        üìÇ ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
                    </button>
                    <button id="delete-profile" class="px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all">
                        üóëÔ∏è ‡∏•‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
                    </button>
                    <button id="compare-profiles" class="px-6 py-3 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-medium transition-all">
                        üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
                    </button>
                </div>
            </div>
        </section>

        <!-- Main Controls -->
        <div class="glass-effect rounded-xl p-6 mt-8">
            <div class="flex flex-wrap gap-4 justify-center">
                <button id="start-full-simulation" class="btn-primary px-8 py-4 text-white rounded-lg font-medium text-lg">
                    üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
                </button>
                <button id="validate-data" class="px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium text-lg transition-all">
                    ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                </button>
                <button id="reset-all" class="px-8 py-4 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium text-lg transition-all">
                    üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p>¬© 2024 Injection Molding Simulation Pro | Version 2.0</p>
            <p class="text-sm text-gray-400 mt-2">Developed for Professional Plastic Injection Analysis</p>
        </div>
    </footer>

    <script>
        // ========== Material Recommendations Database ==========
        const materialRecommendations = {
            ABS: {
                nozzleTemp: "230-250",
                zone1Temp: "220-240",
                zone2Temp: "210-230",
                zone3Temp: "200-220",
                moldTemp: "50-80",
                dryingTemp: "80",
                dryingTime: "2-4",
                injectionPressure: "1000-1400",
                injectionSpeed: "50-100",
                injectionTime: "1-3",
                holdingPressure: "600-1000",
                holdingTime: "2-5",
                coolingTime: "5-15",
                mfi: "10-20",
                glassTransition: "105",
                ejectionTemp: "80",
                density: 1.05,
                shrinkage: "0.4-0.7",
                viscosity: 0.3
            },
            PP: {
                nozzleTemp: "200-230",
                zone1Temp: "190-220",
                zone2Temp: "180-210",
                zone3Temp: "170-200",
                moldTemp: "20-60",
                dryingTemp: "70",
                dryingTime: "2-3",
                injectionPressure: "800-1200",
                injectionSpeed: "40-80",
                injectionTime: "1-2",
                holdingPressure: "500-800",
                holdingTime: "1-4",
                coolingTime: "4-10",
                mfi: "8-15",
                glassTransition: "0",
                ejectionTemp: "60",
                density: 0.91,
                shrinkage: "1.0-2.5",
                viscosity: 0.25
            },
            PE: {
                nozzleTemp: "180-220",
                zone1Temp: "170-210",
                zone2Temp: "160-200",
                zone3Temp: "150-190",
                moldTemp: "20-40",
                dryingTemp: "60",
                dryingTime: "1-2",
                injectionPressure: "700-1100",
                injectionSpeed: "40-80",
                injectionTime: "1-2",
                holdingPressure: "400-700",
                holdingTime: "1-3",
                coolingTime: "3-8",
                mfi: "5-40",
                glassTransition: "-125",
                ejectionTemp: "50",
                density: 0.95,
                shrinkage: "1.5-4.0",
                viscosity: 0.2
            },
            PS: {
                nozzleTemp: "200-250",
                zone1Temp: "190-240",
                zone2Temp: "180-230",
                zone3Temp: "170-220",
                moldTemp: "30-60",
                dryingTemp: "70",
                dryingTime: "2-3",
                injectionPressure: "800-1300",
                injectionSpeed: "50-100",
                injectionTime: "1-3",
                holdingPressure: "500-900",
                holdingTime: "2-4",
                coolingTime: "4-10",
                mfi: "8-15",
                glassTransition: "100",
                ejectionTemp: "70",
                density: 1.04,
                shrinkage: "0.4-0.7",
                viscosity: 0.28
            },
            PC: {
                nozzleTemp: "280-310",
                zone1Temp: "270-300",
                zone2Temp: "260-290",
                zone3Temp: "250-280",
                moldTemp: "80-120",
                dryingTemp: "120",
                dryingTime: "3-4",
                injectionPressure: "1200-1600",
                injectionSpeed: "30-70",
                injectionTime: "2-5",
                holdingPressure: "800-1200",
                holdingTime: "3-6",
                coolingTime: "10-20",
                mfi: "6-12",
                glassTransition: "147",
                ejectionTemp: "110",
                density: 1.2,
                shrinkage: "0.5-0.8",
                viscosity: 0.5
            },
            PA: {
                nozzleTemp: "260-290",
                zone1Temp: "250-280",
                zone2Temp: "240-270",
                zone3Temp: "230-260",
                moldTemp: "60-90",
                dryingTemp: "80-90",
                dryingTime: "4-8",
                injectionPressure: "1000-1500",
                injectionSpeed: "40-80",
                injectionTime: "2-4",
                holdingPressure: "700-1100",
                holdingTime: "2-5",
                coolingTime: "8-15",
                mfi: "20-40",
                glassTransition: "50",
                ejectionTemp: "80",
                density: 1.14,
                shrinkage: "0.7-2.0",
                viscosity: 0.35
            },
            POM: {
                nozzleTemp: "190-220",
                zone1Temp: "180-210",
                zone2Temp: "170-200",
                zone3Temp: "160-190",
                moldTemp: "80-100",
                dryingTemp: "80",
                dryingTime: "2-3",
                injectionPressure: "1000-1400",
                injectionSpeed: "50-100",
                injectionTime: "1-3",
                holdingPressure: "700-1000",
                holdingTime: "2-4",
                coolingTime: "5-10",
                mfi: "8-15",
                glassTransition: "-60",
                ejectionTemp: "90",
                density: 1.41,
                shrinkage: "2.0-2.5",
                viscosity: 0.3
            },
            PMMA: {
                nozzleTemp: "230-260",
                zone1Temp: "220-250",
                zone2Temp: "210-240",
                zone3Temp: "200-230",
                moldTemp: "50-80",
                dryingTemp: "80",
                dryingTime: "3-4",
                injectionPressure: "1000-1400",
                injectionSpeed: "30-60",
                injectionTime: "2-4",
                holdingPressure: "700-1000",
                holdingTime: "2-5",
                coolingTime: "8-15",
                mfi: "2-8",
                glassTransition: "105",
                ejectionTemp: "85",
                density: 1.18,
                shrinkage: "0.2-0.6",
                viscosity: 0.4
            }
        };

        // ========== Advanced Physics Engine ==========
        class InjectionPhysicsEngine {
            constructor() {
                this.viscosityModel = 'Cross-WLF'; // Cross-WLF Model for realistic viscosity
                this.flowField = []; // 2D flow field simulation
                this.temperatureField = [];
                this.pressureField = [];
                this.particleSystem = []; // Particle-based flow visualization
                this.cavityGeometry = null;
            }
            
            // Cross-WLF Viscosity Model: Œ∑ = Œ∑‚ÇÄ * exp(A‚ÇÅ(T-T*)/(A‚ÇÇ+(T-T*))) 
            calculateViscosity(temperature, shearRate, material) {
                const T_star = material.glassTransition - 273.15; // Convert to Celsius
                const A1 = 20; // Material constant
                const A2 = 51.6; // Material constant  
                const tau_star = 0; // Reference temperature
                const D1 = 1e12; // Zero-shear viscosity parameter
                const D2 = material.glassTransition;
                const D3 = 0; // Pressure sensitivity
                const A = A1 * (temperature - T_star) / (A2 + (temperature - T_star));
                const eta_0 = D1 * Math.exp(-A);
                
                // Power-law model for shear thinning
                const n = 0.3; // Power law index (shear thinning)
                const eta = eta_0 * Math.pow(shearRate, n - 1);
                
                return Math.max(eta, 10); // Minimum viscosity
            }
            
            // Pressure drop calculation using Hagen-Poiseuille with corrections
            calculatePressureDrop(flowRate, channelDiameter, channelLength, viscosity) {
                const Q = flowRate / 1e6; // Convert to m¬≥/s
                const D = channelDiameter / 1000; // Convert to m
                const L = channelLength / 1000; // Convert to m
                const A = Math.PI * Math.pow(D/2, 2);
                const v = Q / A; // Velocity
                const shearRate = (4 * v) / (D/2);
                
                // Hagen-Poiseuille equation with corrections
                const deltaPbase = (128 * viscosity * L * Q) / (Math.PI * Math.pow(D, 4));
                
                // Add entrance/exit losses
                const K_entrance = 0.5;
                const K_exit = 1.0;
                const rho = 1000; // kg/m¬≥
                const deltaP_minor = (K_entrance + K_exit) * 0.5 * rho * Math.pow(v, 2);
                
                return (deltaPbase + deltaP_minor) / 1e5; // Convert to bar
            }
            
            // Heat transfer calculation (convection + conduction)
            calculateHeatTransfer(T_melt, T_mold, thickness, time) {
                const k = 0.2; // Thermal conductivity W/(m¬∑K)
                const rho = 1000; // Density kg/m¬≥  
                const cp = 2000; // Specific heat J/(kg¬∑K)
                const alpha = k / (rho * cp); // Thermal diffusivity
                const L = thickness / 1000; // Convert to m
                
                // 1D Heat conduction solution (semi-infinite solid)
                const erfcValue = this.erfc(L / (2 * Math.sqrt(alpha * time)));
                const T = T_mold + (T_melt - T_mold) * erfcValue;
                
                return T;
            }
            
            // Complementary error function approximation
            erfc(x) {
                // Approximation of erfc(x)
                const t = 1 / (1 + 0.5 * Math.abs(x));
                const tau = t * Math.exp(-x*x - 1.26551223 + t * (1.00002368 + t * (0.37409196 + 
                    t * (0.09678418 + t * (-0.18628806 + t * (0.27886807 + t * (-1.13520398 + 
                    t * (1.48851587 + t * (-0.82215223 + t * 0.17087277)))))))));
                return x >= 0 ? tau : 2 - tau;
            }
            
            // Filling pattern simulation (fountain flow effect)
            simulateFountainFlow(x, y, time) {
                const radius = Math.sqrt(x*x + y*y);
                const fillFront = time * 50; // mm/s
                
                if (radius < fillFront) {
                    // Core region (slow moving)
                    const velocity_core = 0.3;
                    // Wall region (fast moving - fountain flow)
                    const velocity_wall = 1.0;
                    const y_normalized = Math.abs(y) / 50; // Normalized thickness
                    const velocity = velocity_core + (velocity_wall - velocity_core) * Math.pow(y_normalized, 0.5);
                    return { filled: true, velocity: velocity, shearRate: velocity / 0.001 };
                }
                return { filled: false, velocity: 0, shearRate: 0 };
            }
            
            // Weld line prediction
            predictWeldLines(cavityGeometry, gateLocations) {
                const weldLines = [];
                // Simple algorithm: find meeting points of flow fronts
                for (let i = 0; i < gateLocations.length; i++) {
                    for (let j = i + 1; j < gateLocations.length; j++) {
                        const g1 = gateLocations[i];
                        const g2 = gateLocations[j];
                        const midpoint = {
                            x: (g1.x + g2.x) / 2,
                            y: (g1.y + g2.y) / 2
                        };
                        weldLines.push(midpoint);
                    }
                }
                return weldLines;
            }
            
            // Air trap prediction
            predictAirTraps(cavityGeometry) {
                // Predict locations where air can be trapped
                // Typically at last-to-fill regions
                const airTraps = [];
                // Simplified: corners and far from gates
                airTraps.push({ x: cavityGeometry.width * 0.9, y: cavityGeometry.height * 0.9, severity: 'high' });
                return airTraps;
            }
        }
        
        // Initialize physics engine
        const physicsEngine = new InjectionPhysicsEngine();

        // ========== Global Variables ==========
        let simulationProgress = 0;
        let simulationInterval;
        let isSimulationRunning = false;
        let simulationData = {
            pressure: [],
            temperature: [],
            flowRate: [],
            time: [],
            viscosity: [],
            shearRate: [],
            fillPercentage: []
        };

        // ========== Navigation Functions ==========
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.remove('hidden');
            
            // Update navigation tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // ========== Machine & Material Functions ==========
        function updateRecommendedValues() {
            const machineSize = document.getElementById('machine-size').value;
            const plasticType = document.getElementById('plastic-type').value;
            const recommendations = materialRecommendations[plasticType] || materialRecommendations.ABS;
            
            // Update placeholders
            document.getElementById('nozzle-temp').placeholder = recommendations.nozzleTemp;
            document.getElementById('zone1-temp').placeholder = recommendations.zone1Temp;
            document.getElementById('zone2-temp').placeholder = recommendations.zone2Temp;
            document.getElementById('zone3-temp').placeholder = recommendations.zone3Temp;
            document.getElementById('mold-temp').placeholder = recommendations.moldTemp;
            document.getElementById('drying-temp').placeholder = recommendations.dryingTemp;
            document.getElementById('drying-time').placeholder = recommendations.dryingTime;
            document.getElementById('injection-pressure').placeholder = recommendations.injectionPressure;
            document.getElementById('injection-speed').placeholder = recommendations.injectionSpeed;
            document.getElementById('injection-time').placeholder = recommendations.injectionTime;
            document.getElementById('holding-pressure').placeholder = recommendations.holdingPressure;
            document.getElementById('holding-time').placeholder = recommendations.holdingTime;
            document.getElementById('cooling-time').placeholder = recommendations.coolingTime;
            document.getElementById('mfi').placeholder = recommendations.mfi;
            document.getElementById('glass-transition').placeholder = recommendations.glassTransition;
            document.getElementById('ejection-temp').placeholder = recommendations.ejectionTemp;
            
            // Update material properties
            document.getElementById('density').value = recommendations.density;
            document.getElementById('viscosity').value = recommendations.viscosity;
            
            // Update machine properties
            document.getElementById('clamping-force').value = machineSize;
            const screwSize = parseFloat(document.getElementById('screw-size').value);
            const maxShot = Math.PI * Math.pow(screwSize/2, 2) * 100 * recommendations.density / 1000; // Approximate calculation
            document.getElementById('max-shot').value = maxShot.toFixed(1);
            
            updateCavityInfo();
        }

        // ========== Cavity System Functions ==========
        function updateCavityInfo() {
            const cavityCount = parseInt(document.getElementById('cavity-count').value);
            const cavityWeight = parseFloat(document.getElementById('cavity-weight').value) || 0;
            const runnerWeight = parseFloat(document.getElementById('runner-weight').value) || 0;
            const density = parseFloat(document.getElementById('density').value) || 1.05;
            
            const totalWeight = cavityCount * cavityWeight + runnerWeight;
            document.getElementById('total-cavity-weight').value = totalWeight.toFixed(2);
            
            const calculatedShotSize = (totalWeight / density) * 1.1; // Add 10% safety factor
            document.getElementById('calculated-shot-size').value = calculatedShotSize.toFixed(2);
            
            // Check flow balance
            checkFlowBalance(cavityCount);
        }

        function checkFlowBalance(cavityCount) {
            const layout = document.getElementById('cavity-layout').value;
            let balanceStatus = '';
            let pressureVariation = '';
            
            if (layout === 'balanced') {
                balanceStatus = '‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏î‡∏µ‡∏°‡∏≤‡∏Å (< 5%)';
                pressureVariation = '3-5%';
                document.getElementById('flow-balance').className = 'font-semibold text-green-600';
            } else if (layout === 'linear' && cavityCount <= 4) {
                balanceStatus = '‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏î‡∏µ (< 10%)';
                pressureVariation = '5-10%';
                document.getElementById('flow-balance').className = 'font-semibold text-yellow-600';
            } else {
                balanceStatus = '‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á (> 10%)';
                pressureVariation = '10-20%';
                document.getElementById('flow-balance').className = 'font-semibold text-red-600';
            }
            
            document.getElementById('flow-balance').textContent = balanceStatus;
            document.getElementById('pressure-variation').textContent = pressureVariation;
        }

        // ========== Simulation Functions ==========
        const ctx = document.getElementById('simulation-animation').getContext('2d');
        const chartCtx = document.getElementById('simulation-chart').getContext('2d');
        
        // Initialize simulation chart
        const simulationChart = new Chart(chartCtx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [
                    {
                        label: '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô (bar)',
                        data: [],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ (¬∞C)',
                        data: [],
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô (bar)'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ (¬∞C)'
                        },
                        grid: {
                            drawOnChartArea: false,
                        }
                    }
                }
            }
        });

        // Draw simulation animation
        function drawSimulation() {
            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            
            // Draw mold outline
            ctx.strokeStyle = '#4b5563';
            ctx.lineWidth = 3;
            ctx.strokeRect(50, 50, ctx.canvas.width - 100, ctx.canvas.height - 100);
            
            // Draw injection progress
            const fillWidth = (simulationProgress / 100) * (ctx.canvas.width - 100);
            const gradient = ctx.createLinearGradient(50, 0, 50 + fillWidth, 0);
            gradient.addColorStop(0, '#3b82f6');
            gradient.addColorStop(1, '#8b5cf6');
            
            ctx.fillStyle = gradient;
            ctx.fillRect(50, 50, fillWidth, ctx.canvas.height - 100);
            
            // Draw text
            ctx.fillStyle = '#1f2937';
            ctx.font = 'bold 20px Prompt';
            ctx.textAlign = 'center';
            ctx.fillText(`‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°: ${simulationProgress}%`, ctx.canvas.width / 2, 30);
            
            // Draw cavity indicators
            const cavityCount = parseInt(document.getElementById('cavity-count').value);
            const cavitySize = 30;
            const spacing = (ctx.canvas.width - 100) / (cavityCount + 1);
            
            for (let i = 1; i <= cavityCount; i++) {
                const x = 50 + spacing * i;
                const y = ctx.canvas.height / 2;
                const filled = simulationProgress > (i - 1) * (100 / cavityCount);
                
                ctx.beginPath();
                ctx.arc(x, y, cavitySize, 0, 2 * Math.PI);
                ctx.fillStyle = filled ? '#10b981' : '#e5e7eb';
                ctx.fill();
                ctx.strokeStyle = '#6b7280';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                ctx.fillStyle = filled ? '#ffffff' : '#6b7280';
                ctx.font = 'bold 16px Prompt';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(i, x, y);
            }
        }

        // Update simulation chart with real physics
        function updateSimulationChart() {
            const realTime = (simulationProgress / 2).toFixed(2);
            
            // Get input parameters
            const injectionPressure = parseFloat(document.getElementById('injection-pressure').value) || 1200;
            const injectionSpeed = parseFloat(document.getElementById('injection-speed').value) || 75;
            const nozzleTemp = parseFloat(document.getElementById('nozzle-temp').value) || 240;
            const moldTemp = parseFloat(document.getElementById('mold-temp').value) || 60;
            const plasticType = document.getElementById('plastic-type').value;
            const material = materialRecommendations[plasticType];
            
            // Calculate phase-based values
            let pressure, temperature, flowRate, viscosity, shearRate;
            
            if (simulationProgress < 20) {
                // Injection phase - pressure build up
                const phaseProgress = simulationProgress / 20;
                pressure = injectionPressure * Math.pow(phaseProgress, 1.5);
                flowRate = injectionSpeed * phaseProgress;
                temperature = nozzleTemp;
                shearRate = (4 * flowRate / 100) / 0.002; // Œ≥ = 4Q/œÄr¬≥
                viscosity = physicsEngine.calculateViscosity(temperature, shearRate, material);
                
            } else if (simulationProgress < 60) {
                // Filling phase - steady flow
                const phaseProgress = (simulationProgress - 20) / 40;
                pressure = injectionPressure * (1 - 0.2 * phaseProgress);
                flowRate = injectionSpeed * (1 - 0.3 * phaseProgress);
                
                // Temperature drops due to mold cooling
                const coolingTime = realTime;
                temperature = physicsEngine.calculateHeatTransfer(nozzleTemp, moldTemp, 3, coolingTime);
                
                shearRate = (4 * flowRate / 100) / 0.002;
                viscosity = physicsEngine.calculateViscosity(temperature, shearRate, material);
                
            } else if (simulationProgress < 80) {
                // Holding phase - pressure maintained
                const holdingPressure = parseFloat(document.getElementById('holding-pressure').value) || 800;
                pressure = holdingPressure * (1 - (simulationProgress - 60) / 40);
                flowRate = injectionSpeed * 0.1 * (1 - (simulationProgress - 60) / 20); // Minimal flow
                temperature = physicsEngine.calculateHeatTransfer(nozzleTemp, moldTemp, 3, realTime);
                shearRate = 100;
                viscosity = physicsEngine.calculateViscosity(temperature, shearRate, material);
                
            } else {
                // Cooling phase - solidification
                pressure = 0;
                flowRate = 0;
                temperature = moldTemp + (nozzleTemp - moldTemp) * Math.exp(-0.1 * (simulationProgress - 80));
                shearRate = 0;
                viscosity = physicsEngine.calculateViscosity(temperature, 0.1, material);
            }
            
            // Add realistic noise
            pressure += (Math.random() - 0.5) * pressure * 0.02;
            temperature += (Math.random() - 0.5) * 2;
            flowRate += (Math.random() - 0.5) * flowRate * 0.05;
            
            // Update chart
            simulationChart.data.labels.push(realTime);
            simulationChart.data.datasets[0].data.push(pressure.toFixed(1));
            simulationChart.data.datasets[1].data.push(temperature.toFixed(1));
            
            // Keep only last 30 data points for better visualization
            if (simulationChart.data.labels.length > 30) {
                simulationChart.data.labels.shift();
                simulationChart.data.datasets[0].data.shift();
                simulationChart.data.datasets[1].data.shift();
            }
            
            simulationChart.update('none');
            
            // Update display values
            document.getElementById('current-pressure').textContent = `${pressure.toFixed(1)} bar`;
            document.getElementById('current-temp').textContent = `${temperature.toFixed(1)}¬∞C`;
            document.getElementById('flow-rate').textContent = `${flowRate.toFixed(2)} cm¬≥/s`;
            
            // Store simulation data
            simulationData.pressure.push(pressure);
            simulationData.temperature.push(temperature);
            simulationData.flowRate.push(flowRate);
            simulationData.viscosity.push(viscosity);
            simulationData.shearRate.push(shearRate);
            simulationData.fillPercentage.push(simulationProgress);
            simulationData.time.push(realTime);
        }

        // Add log entry
        function addLog(message, type = 'info') {
            const log = document.getElementById('simulation-log');
            const timestamp = new Date().toLocaleTimeString();
            const colors = {
                info: 'text-blue-600',
                success: 'text-green-600',
                warning: 'text-yellow-600',
                error: 'text-red-600'
            };
            
            const entry = document.createElement('p');
            entry.className = colors[type] || 'text-gray-600';
            entry.textContent = `[${timestamp}] ${message}`;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        // ========== Simulation Event Handlers ==========
        document.getElementById('start-simulation').addEventListener('click', () => {
            if (isSimulationRunning) return;
            
            isSimulationRunning = true;
            addLog('‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å', 'success');
            
            simulationInterval = setInterval(() => {
                if (simulationProgress < 100) {
                    simulationProgress += 2;
                    document.getElementById('progress').textContent = `${simulationProgress}%`;
                    document.getElementById('progress-bar').style.width = `${simulationProgress}%`;
                    drawSimulation();
                    updateSimulationChart();
                    
                    // Add simulation events
                    if (simulationProgress === 20) {
                        addLog('‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î (Injection Phase)', 'info');
                    } else if (simulationProgress === 60) {
                        addLog('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡πâ‡∏≥ (Holding Phase)', 'info');
                    } else if (simulationProgress === 80) {
                        addLog('‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô (Cooling Phase)', 'info');
                    }
                    
                    checkDefects();
                } else {
                    clearInterval(simulationInterval);
                    isSimulationRunning = false;
                    addLog('‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå', 'success');
                    performAnalysis();
                }
            }, 100);
        });

        document.getElementById('pause-simulation').addEventListener('click', () => {
            clearInterval(simulationInterval);
            isSimulationRunning = false;
            addLog('‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß', 'warning');
        });

        document.getElementById('stop-simulation').addEventListener('click', () => {
            clearInterval(simulationInterval);
            simulationProgress = 0;
            isSimulationRunning = false;
            drawSimulation();
            document.getElementById('progress').textContent = '0%';
            document.getElementById('progress-bar').style.width = '0%';
            addLog('‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á', 'error');
        });

        document.getElementById('reset-simulation').addEventListener('click', () => {
            clearInterval(simulationInterval);
            simulationProgress = 0;
            isSimulationRunning = false;
            drawSimulation();
            document.getElementById('progress').textContent = '0%';
            document.getElementById('progress-bar').style.width = '0%';
            simulationChart.data.labels = [];
            simulationChart.data.datasets.forEach(ds => ds.data = []);
            simulationChart.update();
            simulationData = { pressure: [], temperature: [], flowRate: [], time: [] };
            document.getElementById('simulation-log').innerHTML = '<p class="text-green-600">[‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô] ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á</p>';
        });

        document.getElementById('clear-log').addEventListener('click', () => {
            document.getElementById('simulation-log').innerHTML = '<p class="text-green-600">[‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô] ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á</p>';
        });

        // ========== Defect Prediction Functions ==========
        function checkDefects() {
            const injectionPressure = parseFloat(document.getElementById('injection-pressure').value) || 0;
            const injectionSpeed = parseFloat(document.getElementById('injection-speed').value) || 0;
            const moldTemp = parseFloat(document.getElementById('mold-temp').value) || 0;
            const nozzleTemp = parseFloat(document.getElementById('nozzle-temp').value) || 0;
            const plasticType = document.getElementById('plastic-type').value;
            const recommendations = materialRecommendations[plasticType];
            
            const defects = [];
            
            // Check for flash
            if (injectionPressure > parseFloat(recommendations.injectionPressure.split('-')[1])) {
                defects.push({
                    type: 'Flash/Burr',
                    severity: 'high',
                    description: '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏â‡∏µ‡∏î‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏£‡∏µ‡∏ö',
                    solution: '‡∏•‡∏î‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏â‡∏µ‡∏î‡∏•‡∏á 10-20% ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÅ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå'
                });
            }
            
            // Check for short shot
            if (injectionPressure < parseFloat(recommendations.injectionPressure.split('-')[0])) {
                defects.push({
                    type: 'Short Shot',
                    severity: 'high',
                    description: '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏â‡∏µ‡∏î‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°',
                    solution: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏â‡∏µ‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥'
                });
            }
            
            // Check for burn marks
            if (injectionSpeed > parseFloat(recommendations.injectionSpeed.split('-')[1])) {
                defects.push({
                    type: 'Burn Marks',
                    severity: 'medium',
                    description: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏â‡∏µ‡∏î‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏£‡∏≠‡∏¢‡πÑ‡∏´‡∏°‡πâ',
                    solution: '‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏â‡∏µ‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏®'
                });
            }
            
            // Check for sink marks
            const holdingPressure = parseFloat(document.getElementById('holding-pressure').value) || 0;
            if (holdingPressure < parseFloat(recommendations.holdingPressure.split('-')[0])) {
                defects.push({
                    type: 'Sink Marks',
                    severity: 'medium',
                    description: '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏¢‡πâ‡∏≥‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏£‡∏≠‡∏¢‡∏¢‡∏∏‡∏ö',
                    solution: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏¢‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤‡∏¢‡πâ‡∏≥'
                });
            }
            
            // Update defect display
            updateDefectDisplay(defects);
        }

        function updateDefectDisplay(defects) {
            const defectCards = document.getElementById('defect-cards');
            defectCards.innerHTML = '';
            
            if (defects.length === 0) {
                defectCards.innerHTML = '<div class="bg-green-50 p-4 rounded-lg"><p class="text-green-700">‚úÖ ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏ö‡∏Å‡∏û‡∏£‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</p></div>';
                return;
            }
            
            defects.forEach(defect => {
                const severityColors = {
                    high: 'bg-red-50 border-red-200',
                    medium: 'bg-yellow-50 border-yellow-200',
                    low: 'bg-blue-50 border-blue-200'
                };
                
                const card = document.createElement('div');
                card.className = `defect-card ${severityColors[defect.severity]} border p-4 rounded-lg`;
                card.innerHTML = `
                    <h4 class="font-semibold mb-2">${defect.type}</h4>
                    <p class="text-sm text-gray-700 mb-2">${defect.description}</p>
                    <p class="text-sm font-medium">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ${defect.solution}</p>
                `;
                defectCards.appendChild(card);
            });
        }

        // ========== Analysis Functions ==========
        function performAnalysis() {
            calculateCosts();
            calculateProductivity();
            analyzeQuality();
            generateRecommendations();
        }

        function calculateCosts() {
            const cavityWeight = parseFloat(document.getElementById('cavity-weight').value) || 0;
            const runnerWeight = parseFloat(document.getElementById('runner-weight').value) || 0;
            const plasticType = document.getElementById('plastic-type').value;
            const cavityCount = parseInt(document.getElementById('cavity-count').value);
            
            // Material cost (example rates)
            const materialRates = {
                ABS: 45, PP: 35, PE: 30, PS: 40, PC: 80, PA: 70, POM: 65, PMMA: 55
            };
            const materialRate = materialRates[plasticType] || 40; // ‡∏ö‡∏≤‡∏ó/kg
            const materialCost = ((cavityWeight + runnerWeight/cavityCount) / 1000) * materialRate;
            
            // Energy cost
            const machineSize = parseFloat(document.getElementById('machine-size').value);
            const cycleTime = calculateCycleTime();
            const energyCost = (machineSize * 0.75 * cycleTime / 3600) * 3.5; // 3.5 ‡∏ö‡∏≤‡∏ó/kWh
            
            // Labor cost
            const laborRate = 300; // ‡∏ö‡∏≤‡∏ó/‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
            const laborCost = (cycleTime / 3600) * laborRate / cavityCount;
            
            // Total cost
            const totalCost = materialCost + energyCost + laborCost;
            
            // Update display
            document.getElementById('material-cost').textContent = `${materialCost.toFixed(2)} ‡∏ö‡∏≤‡∏ó/‡∏ä‡∏¥‡πâ‡∏ô`;
            document.getElementById('energy-cost').textContent = `${energyCost.toFixed(2)} ‡∏ö‡∏≤‡∏ó/‡∏ä‡∏¥‡πâ‡∏ô`;
            document.getElementById('labor-cost').textContent = `${laborCost.toFixed(2)} ‡∏ö‡∏≤‡∏ó/‡∏ä‡∏¥‡πâ‡∏ô`;
            document.getElementById('total-cost').textContent = `${totalCost.toFixed(2)} ‡∏ö‡∏≤‡∏ó/‡∏ä‡∏¥‡πâ‡∏ô`;
        }

        function calculateCycleTime() {
            const injectionTime = parseFloat(document.getElementById('injection-time').value) || 0;
            const holdingTime = parseFloat(document.getElementById('holding-time').value) || 0;
            const coolingTime = parseFloat(document.getElementById('cooling-time').value) || 0;
            const moldOpenCloseTime = 5; // Assume 5 seconds
            
            return injectionTime + holdingTime + coolingTime + moldOpenCloseTime;
        }

        function calculateProductivity() {
            const cycleTime = calculateCycleTime();
            const cavityCount = parseInt(document.getElementById('cavity-count').value);
            const hourlyOutput = Math.floor((3600 / cycleTime) * cavityCount);
            const oee = 85; // Assume 85% OEE
            
            document.getElementById('cycle-time').textContent = `${cycleTime} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
            document.getElementById('hourly-output').textContent = `${hourlyOutput} ‡∏ä‡∏¥‡πâ‡∏ô`;
            document.getElementById('oee').textContent = `${oee}%`;
        }

        function analyzeQuality() {
            // Initialize quality chart if not exists
            const qualityCtx = document.getElementById('quality-chart');
            if (!qualityCtx) return;
            
            new Chart(qualityCtx, {
                type: 'radar',
                data: {
                    labels: ['‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á', '‡∏ú‡∏¥‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', '‡∏Ç‡∏ô‡∏≤‡∏î', '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å', '‡∏™‡∏µ'],
                    datasets: [{
                        label: '‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û',
                        data: [85, 90, 95, 92, 88],
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: '#3b82f6',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
            
            // Update quality summary
            document.getElementById('quality-score').textContent = '88/100';
            document.getElementById('defect-risk').textContent = '‡∏ï‡πà‡∏≥';
            document.getElementById('consistency').textContent = '‡∏î‡∏µ‡∏°‡∏≤‡∏Å';
        }

        function generateRecommendations() {
            const recommendations = [];
            
            // Check injection pressure
            const injectionPressure = parseFloat(document.getElementById('injection-pressure').value) || 0;
            const plasticType = document.getElementById('plastic-type').value;
            const recommended = materialRecommendations[plasticType];
            const [minPressure, maxPressure] = recommended.injectionPressure.split('-').map(Number);
            
            if (injectionPressure < minPressure || injectionPressure > maxPressure) {
                recommendations.push({
                    category: '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô',
                    suggestion: `‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏â‡∏µ‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á ${recommended.injectionPressure} bar`,
                    impact: '‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏ö‡∏Å‡∏û‡∏£‡πà‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô'
                });
            }
            
            // Check temperatures
            const nozzleTemp = parseFloat(document.getElementById('nozzle-temp').value) || 0;
            const [minNozzle, maxNozzle] = recommended.nozzleTemp.split('-').map(Number);
            
            if (nozzleTemp < minNozzle || nozzleTemp > maxNozzle) {
                recommendations.push({
                    category: '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥',
                    suggestion: `‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ Nozzle ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á ${recommended.nozzleTemp}¬∞C`,
                    impact: '‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏™‡∏î‡∏∏'
                });
            }
            
            // Update recommendation display
            const recommendationCards = document.getElementById('recommendation-cards');
            recommendationCards.innerHTML = '';
            
            if (recommendations.length === 0) {
                recommendationCards.innerHTML = '<div class="bg-green-50 p-4 rounded-lg"><p class="text-green-700">‚úÖ ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</p></div>';
                return;
            }
            
            recommendations.forEach(rec => {
                const card = document.createElement('div');
                card.className = 'bg-blue-50 border border-blue-200 p-4 rounded-lg';
                card.innerHTML = `
                    <h4 class="font-semibold mb-2">${rec.category}</h4>
                    <p class="text-sm text-gray-700 mb-2">${rec.suggestion}</p>
                    <p class="text-sm font-medium text-blue-600">‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: ${rec.impact}</p>
                `;
                recommendationCards.appendChild(card);
            });
        }

        // ========== Report Generation Functions ==========
        function generateReport() {
            const reportContent = document.getElementById('report-content');
            const plasticType = document.getElementById('plastic-type').value;
            const machineSize = document.getElementById('machine-size').value;
            const cavityCount = document.getElementById('cavity-count').value;
            const cycleTime = calculateCycleTime();
            
            const reportHTML = `
                <div class="report-header mb-6">
                    <h1 class="text-2xl font-bold mb-2">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å</h1>
                    <p class="text-gray-600">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${new Date().toLocaleDateString('th-TH')}</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h2 class="text-lg font-semibold mb-3">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</h2>
                        <table class="w-full text-sm">
                            <tr class="border-b">
                                <td class="py-2">‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å:</td>
                                <td class="font-medium">${plasticType}</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2">‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á:</td>
                                <td class="font-medium">${machineSize} ‡∏ï‡∏±‡∏ô</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Cavity:</td>
                                <td class="font-medium">${cavityCount}</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2">Cycle Time:</td>
                                <td class="font-medium">${cycleTime} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</td>
                            </tr>
                        </table>
                    </div>
                    
                    <div>
                        <h2 class="text-lg font-semibold mb-3">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h2>
                        <table class="w-full text-sm">
                            <tr class="border-b">
                                <td class="py-2">‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï/‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á:</td>
                                <td class="font-medium">${document.getElementById('hourly-output').textContent}</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô/‡∏ä‡∏¥‡πâ‡∏ô:</td>
                                <td class="font-medium">${document.getElementById('total-cost').textContent}</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2">‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û:</td>
                                <td class="font-medium">${document.getElementById('quality-score').textContent}</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á:</td>
                                <td class="font-medium">${document.getElementById('defect-risk').textContent}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                
                <div class="mt-6">
                    <h2 class="text-lg font-semibold mb-3">‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î</h2>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                        <div>
                            <p class="text-gray-600">‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏â‡∏µ‡∏î:</p>
                            <p class="font-medium">${document.getElementById('injection-pressure').value || '-'} bar</p>
                        </div>
                        <div>
                            <p class="text-gray-600">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏â‡∏µ‡∏î:</p>
                            <p class="font-medium">${document.getElementById('injection-speed').value || '-'} mm/s</p>
                        </div>
                        <div>
                            <p class="text-gray-600">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ Nozzle:</p>
                            <p class="font-medium">${document.getElementById('nozzle-temp').value || '-'} ¬∞C</p>
                        </div>
                        <div>
                            <p class="text-gray-600">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå:</p>
                            <p class="font-medium">${document.getElementById('mold-temp').value || '-'} ¬∞C</p>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6">
                    <h2 class="text-lg font-semibold mb-3">‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞</h2>
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <p class="text-sm">‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ú‡∏•‡∏¥‡∏ï‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î 
                        ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï</p>
                    </div>
                </div>
            `;
            
            reportContent.innerHTML = reportHTML;
            addLog('‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß', 'success');
        }

        document.getElementById('generate-report').addEventListener('click', generateReport);

        document.getElementById('export-pdf').addEventListener('click', () => {
            alert('‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Export PDF ‡∏à‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ');
            addLog('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Export PDF', 'warning');
        });

        document.getElementById('export-excel').addEventListener('click', () => {
            alert('‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Export Excel ‡∏à‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ');
            addLog('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Export Excel', 'warning');
        });

        document.getElementById('print-report').addEventListener('click', () => {
            window.print();
            addLog('‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô', 'info');
        });

        // ========== Profile Management Functions ==========
        function saveProfile() {
            const profileName = document.getElementById('profile-name').value;
            if (!profileName) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå');
                return;
            }
            
            const profile = {
                name: profileName,
                date: new Date().toISOString(),
                settings: {
                    machineSize: document.getElementById('machine-size').value,
                    plasticType: document.getElementById('plastic-type').value,
                    gateType: document.getElementById('gate-type').value,
                    nozzleTemp: document.getElementById('nozzle-temp').value,
                    zone1Temp: document.getElementById('zone1-temp').value,
                    zone2Temp: document.getElementById('zone2-temp').value,
                    zone3Temp: document.getElementById('zone3-temp').value,
                    moldTemp: document.getElementById('mold-temp').value,
                    injectionPressure: document.getElementById('injection-pressure').value,
                    injectionSpeed: document.getElementById('injection-speed').value,
                    injectionTime: document.getElementById('injection-time').value,
                    holdingPressure: document.getElementById('holding-pressure').value,
                    holdingTime: document.getElementById('holding-time').value,
                    coolingTime: document.getElementById('cooling-time').value,
                    cavityCount: document.getElementById('cavity-count').value,
                    cavityWeight: document.getElementById('cavity-weight').value,
                    runnerWeight: document.getElementById('runner-weight').value
                }
            };
            
            // Save to localStorage
            let profiles = JSON.parse(localStorage.getItem('injectionProfiles') || '[]');
            profiles.push(profile);
            localStorage.setItem('injectionProfiles', JSON.stringify(profiles));
            
            updateProfileList();
            addLog(`‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå "${profileName}" ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`, 'success');
            document.getElementById('profile-name').value = '';
        }

        function loadProfile() {
            const selectedProfile = document.getElementById('saved-profiles').value;
            if (!selectedProfile) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå');
                return;
            }
            
            const profiles = JSON.parse(localStorage.getItem('injectionProfiles') || '[]');
            const profile = profiles.find(p => p.name === selectedProfile);
            
            if (profile) {
                // Load all settings
                Object.keys(profile.settings).forEach(key => {
                    const element = document.getElementById(key.replace(/([A-Z])/g, '-$1').toLowerCase());
                    if (element) {
                        element.value = profile.settings[key];
                    }
                });
                
                updateRecommendedValues();
                updateCavityInfo();
                addLog(`‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå "${selectedProfile}" ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`, 'success');
            }
        }

        function deleteProfile() {
            const selectedProfile = document.getElementById('saved-profiles').value;
            if (!selectedProfile) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö');
                return;
            }
            
            if (confirm(`‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå "${selectedProfile}" ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`)) {
                let profiles = JSON.parse(localStorage.getItem('injectionProfiles') || '[]');
                profiles = profiles.filter(p => p.name !== selectedProfile);
                localStorage.setItem('injectionProfiles', JSON.stringify(profiles));
                
                updateProfileList();
                addLog(`‡∏•‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå "${selectedProfile}" ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`, 'warning');
            }
        }

        function updateProfileList() {
            const profiles = JSON.parse(localStorage.getItem('injectionProfiles') || '[]');
            const select = document.getElementById('saved-profiles');
            
            select.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå --</option>';
            profiles.forEach(profile => {
                const option = document.createElement('option');
                option.value = profile.name;
                option.textContent = profile.name;
                select.appendChild(option);
            });
        }

        document.getElementById('save-profile').addEventListener('click', saveProfile);
        document.getElementById('load-profile').addEventListener('click', loadProfile);
        document.getElementById('delete-profile').addEventListener('click', deleteProfile);
        document.getElementById('compare-profiles').addEventListener('click', () => {
            alert('‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤');
        });

        // ========== Validation Functions ==========
        function validateData() {
            const errors = [];
            const warnings = [];
            
            // Check required fields
            const requiredFields = [
                { id: 'nozzle-temp', name: '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ Nozzle' },
                { id: 'zone1-temp', name: '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ Zone 1' },
                { id: 'zone2-temp', name: '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ Zone 2' },
                { id: 'zone3-temp', name: '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ Zone 3' },
                { id: 'injection-pressure', name: '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏â‡∏µ‡∏î' },
                { id: 'injection-speed', name: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏â‡∏µ‡∏î' },
                { id: 'injection-time', name: '‡πÄ‡∏ß‡∏•‡∏≤‡∏â‡∏µ‡∏î' },
                { id: 'holding-pressure', name: '‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏¢‡πâ‡∏≥' },
                { id: 'holding-time', name: '‡πÄ‡∏ß‡∏•‡∏≤‡∏¢‡πâ‡∏≥' },
                { id: 'cooling-time', name: '‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô' },
                { id: 'cavity-weight', name: '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô' },
                { id: 'actual-shot-size', name: 'Shot Size ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á' }
            ];
            
            requiredFields.forEach(field => {
                const value = document.getElementById(field.id).value;
                if (!value || value === '0') {
                    errors.push(`‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏ ${field.name}`);
                }
            });
            
            // Check temperature sequence
            const nozzle = parseFloat(document.getElementById('nozzle-temp').value) || 0;
            const zone1 = parseFloat(document.getElementById('zone1-temp').value) || 0;
            const zone2 = parseFloat(document.getElementById('zone2-temp').value) || 0;
            const zone3 = parseFloat(document.getElementById('zone3-temp').value) || 0;
            
            if (nozzle > 0 && zone1 > 0 && zone1 > nozzle) {
                warnings.push('‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ Zone 1 ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ Nozzle');
            }
            
            if (zone1 > 0 && zone2 > 0 && zone2 > zone1) {
                warnings.push('‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ Zone 2 ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ Zone 1');
            }
            
            if (zone2 > 0 && zone3 > 0 && zone3 > zone2) {
                warnings.push('‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ Zone 3 ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ Zone 2');
            }
            
            // Check shot size
            const maxShot = parseFloat(document.getElementById('max-shot').value) || 0;
            const actualShot = parseFloat(document.getElementById('actual-shot-size').value) || 0;
            const calculatedShot = parseFloat(document.getElementById('calculated-shot-size').value) || 0;
            
            if (actualShot > maxShot * 0.8) {
                warnings.push('Shot Size ‡πÉ‡∏Å‡∏•‡πâ‡∏ñ‡∏∂‡∏á‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (>80%)');
            }
            
            if (actualShot < calculatedShot) {
                errors.push('Shot Size ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ');
            }
            
            // Display results
            if (errors.length === 0 && warnings.length === 0) {
                alert('‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á');
                addLog('‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô - ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á', 'success');
            } else {
                let message = '';
                if (errors.length > 0) {
                    message += '‚ùå ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:\n' + errors.join('\n') + '\n\n';
                }
                if (warnings.length > 0) {
                    message += '‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:\n' + warnings.join('\n');
                }
                alert(message);
                
                if (errors.length > 0) {
                    addLog(`‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ${errors.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`, 'error');
                } else {
                    addLog(`‡∏û‡∏ö‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô ${warnings.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`, 'warning');
                }
            }
        }

        // ========== Full Simulation Function ==========
        function startFullSimulation() {
            // Validate data first
            validateData();
            
            // If validation passes, start simulation
            if (confirm('‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå?')) {
                // Reset simulation
                simulationProgress = 0;
                simulationData = { pressure: [], temperature: [], flowRate: [], time: [] };
                
                // Show simulation section
                showSection('simulation');
                
                // Start simulation automatically
                setTimeout(() => {
                    document.getElementById('start-simulation').click();
                }, 500);
                
                addLog('‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå', 'success');
            }
        }

        // ========== Reset Function ==========
        function resetAll() {
            if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                // Reset all input fields
                document.querySelectorAll('input, select').forEach(element => {
                    if (element.type === 'number') {
                        element.value = '';
                    } else if (element.tagName === 'SELECT') {
                        element.selectedIndex = 0;
                    }
                });
                
                // Reset simulation
                simulationProgress = 0;
                isSimulationRunning = false;
                drawSimulation();
                simulationChart.data.labels = [];
                simulationChart.data.datasets.forEach(ds => ds.data = []);
                simulationChart.update();
                
                // Clear logs
                document.getElementById('simulation-log').innerHTML = '<p class="text-green-600">[‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô] ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á</p>';
                
                // Reset displays
                document.getElementById('progress').textContent = '0%';
                document.getElementById('progress-bar').style.width = '0%';
                document.getElementById('report-content').innerHTML = '<p class="text-gray-500 text-center">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏£‡∏∏‡∏õ</p>';
                
                // Show first section
                showSection('basic-params');
                
                addLog('‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß', 'warning');
            }
        }

        // ========== Event Listeners ==========
        document.getElementById('start-full-simulation').addEventListener('click', startFullSimulation);
        document.getElementById('validate-data').addEventListener('click', validateData);
        document.getElementById('reset-all').addEventListener('click', resetAll);

        // Add change listeners for real-time updates
        document.getElementById('cavity-weight').addEventListener('input', updateCavityInfo);
        document.getElementById('runner-weight').addEventListener('input', updateCavityInfo);
        document.getElementById('cavity-count').addEventListener('change', updateCavityInfo);
        document.getElementById('cavity-layout').addEventListener('change', () => {
            updateCavityInfo();
        });

        // Machine size change updates clamping force
        document.getElementById('machine-size').addEventListener('change', (e) => {
            document.getElementById('clamping-force').value = e.target.value;
            updateRecommendedValues();
        });

        // ========== Initialize on Load ==========
        window.addEventListener('load', () => {
            updateRecommendedValues();
            updateCavityInfo();
            updateProfileList();
            drawSimulation();
            
            // Set initial active nav
            document.querySelector('.nav-tab').classList.add('active');
            
            // Add smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
            
            console.log('Injection Molding Simulation Pro v2.0 - Ready');
        });
    </script>
</body>
</html>