<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Hot Runner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .role-selector {
            background: white;
            padding: 20px;
            border-bottom: 2px solid #e9ecef;
        }

        .role-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .role-btn {
            padding: 12px 25px;
            border: 2px solid #74b9ff;
            background: white;
            color: #74b9ff;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .role-btn.active {
            background: #74b9ff;
            color: white;
        }

        .role-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(116, 185, 255, 0.3);
        }

        .main-workspace {
            display: grid;
            grid-template-columns: 300px 1fr 350px;
            min-height: 80vh;
        }

        .sidebar {
            background: #f8f9fa;
            padding: 25px;
            border-right: 2px solid #e9ecef;
        }

        .sidebar h3 {
            color: #2d3436;
            margin-bottom: 20px;
            border-bottom: 2px solid #74b9ff;
            padding-bottom: 10px;
        }

        .main-content {
            padding: 30px;
            background: white;
        }

        .activity-panel {
            background: #f8f9fa;
            padding: 25px;
            border-left: 2px solid #e9ecef;
            overflow-y: auto;
            max-height: 80vh;
        }

        .panel-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2d3436;
            border-bottom: 3px solid #74b9ff;
            padding-bottom: 10px;
        }

        .problem-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #ff7675;
        }

        .problem-card.in-progress {
            border-left-color: #fdcb6e;
        }

        .problem-card.resolved {
            border-left-color: #00b894;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .status-badge.critical {
            background: #ff7675;
            color: white;
        }

        .status-badge.in-progress {
            background: #fdcb6e;
            color: white;
        }

        .status-badge.resolved {
            background: #00b894;
            color: white;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
            display: inline-block;
        }

        .btn-primary {
            background: #74b9ff;
            color: white;
        }

        .btn-success {
            background: #00b894;
            color: white;
        }

        .btn-warning {
            background: #fdcb6e;
            color: white;
        }

        .btn-danger {
            background: #ff7675;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #74b9ff;
        }

        .timeline-item {
            position: relative;
            background: white;
            padding: 15px 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -23px;
            top: 20px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #74b9ff;
            border: 3px solid white;
        }

        .timeline-item.current::before {
            background: #ff7675;
            animation: pulse 1s infinite;
        }

        .timeline-item.completed::before {
            background: #00b894;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2d3436;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #74b9ff;
            box-shadow: 0 0 0 3px rgba(116, 185, 255, 0.2);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .team-member {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #74b9ff;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            margin-right: 12px;
        }

        .member-info {
            flex: 1;
        }

        .member-name {
            font-weight: 600;
            color: #2d3436;
        }

        .member-role {
            font-size: 0.9rem;
            color: #636e72;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #00b894;
        }

        .status-indicator.busy {
            background: #fdcb6e;
        }

        .status-indicator.offline {
            background: #ddd;
        }

        .chat-message {
            background: white;
            border-radius: 10px;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-left: 3px solid #74b9ff;
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .message-author {
            font-weight: 600;
            color: #2d3436;
        }

        .message-time {
            font-size: 0.8rem;
            color: #636e72;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #74b9ff, #0984e3);
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .alert {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .alert-danger {
            background: #ff7675;
            color: white;
        }

        .alert-warning {
            background: #fdcb6e;
            color: white;
        }

        .alert-success {
            background: #00b894;
            color: white;
        }

        .alert-info {
            background: #74b9ff;
            color: white;
        }

        .scenario-selector {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .scenario-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .scenario-btn:hover {
            border-color: #74b9ff;
            background: #e3f2fd;
        }

        .scenario-btn.active {
            border-color: #74b9ff;
            background: #74b9ff;
            color: white;
        }

        .hidden {
            display: none;
        }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }

        @media (max-width: 1200px) {
            .main-workspace {
                grid-template-columns: 1fr;
            }
            
            .sidebar, .activity-panel {
                border: none;
                border-bottom: 2px solid #e9ecef;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè≠ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Hot Runner</h1>
            <div class="subtitle">‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Production, Engineering ‡πÅ‡∏•‡∏∞ Supplier</div>
        </div>

        <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó -->
        <div class="role-selector">
            <h3 style="text-align: center; margin-bottom: 15px;">üé≠ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
            <div class="role-buttons">
                <button class="role-btn active" data-role="production" onclick="switchRole('production')">
                    üë∑‚Äç‚ôÇÔ∏è Production Operator
                </button>
                <button class="role-btn" data-role="engineer" onclick="switchRole('engineer')">
                    üîß Process Engineer
                </button>
                <button class="role-btn" data-role="maintenance" onclick="switchRole('maintenance')">
                    üõ†Ô∏è Maintenance Engineer
                </button>
                <button class="role-btn" data-role="supplier" onclick="switchRole('supplier')">
                    üè¢ Supplier Support
                </button>
                <button class="role-btn" data-role="manager" onclick="switchRole('manager')">
                    üëî Production Manager
                </button>
            </div>
        </div>

        <div class="main-workspace">
            <!-- Sidebar -->
            <div class="sidebar">
                <h3>üéØ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå</h3>
                <div class="scenario-selector">
                    <button class="scenario-btn active" onclick="selectScenario('gate_block')">
                        üö´ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏Å‡∏ó‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å<br>
                        <small>‡πÄ‡∏Å‡∏ó 3 ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÑ‡∏´‡∏•‡∏≠‡∏≠‡∏Å</small>
                    </button>
                    <button class="scenario-btn" onclick="selectScenario('temp_spike')">
                        üå°Ô∏è ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏û‡∏∏‡πà‡∏á‡∏™‡∏π‡∏á<br>
                        <small>Zone 2 ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥</small>
                    </button>
                    <button class="scenario-btn" onclick="selectScenario('color_change')">
                        üé® ‡∏™‡∏µ‡πÑ‡∏°‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô<br>
                        <small>‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡∏°‡∏µ‡∏™‡∏µ‡πÑ‡∏°‡πà‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠</small>
                    </button>
                </div>

                <h3>üë• ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô</h3>
                <div id="teamMembers">
                    <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ JavaScript -->
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <div id="roleContent">
                    <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ï‡∏≤‡∏°‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó -->
                </div>
            </div>

            <!-- Activity Panel -->
            <div class="activity-panel">
                <h3>üìà Timeline & Activity</h3>
                <div id="timelineContainer">
                    <!-- Timeline ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ JavaScript -->
                </div>

                <h3 style="margin-top: 30px;">üí¨ Team Communication</h3>
                <div id="chatContainer">
                    <!-- Chat ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö
        let currentRole = 'production';
        let currentScenario = 'gate_block';
        let scenarioProgress = 0;
        let timeElapsed = 0;
        let problemTickets = [];
        let chatMessages = [];

        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô
        const teamMembers = {
            production: [
                { id: 'prod1', name: '‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ', role: 'Production Operator', status: 'online' },
                { id: 'prod2', name: '‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á ‡πÅ‡∏¢‡∏ö', role: 'QC Inspector', status: 'online' }
            ],
            engineer: [
                { id: 'eng1', name: '‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£ ‡∏õ‡∏±‡∏ç‡∏ç‡∏≤', role: 'Process Engineer', status: 'online' },
                { id: 'eng2', name: '‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå ‡∏£‡∏π‡πâ', role: 'Senior Engineer', status: 'busy' }
            ],
            maintenance: [
                { id: 'maint1', name: '‡∏ä‡πà‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏° ‡∏°‡∏∑‡∏≠‡∏ó‡∏≠‡∏á', role: 'Maintenance Tech', status: 'online' },
                { id: 'maint2', name: '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤ ‡πÅ‡∏Å‡∏ß‡πà', role: 'Maintenance Manager', status: 'online' }
            ],
            supplier: [
                { id: 'sup1', name: 'Mr. Johnson', role: 'Technical Support', status: 'online' },
                { id: 'sup2', name: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏¥‡∏ó ‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß', role: 'Application Engineer', status: 'online' }
            ],
            manager: [
                { id: 'mgr1', name: '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô', role: 'Production Manager', status: 'online' }
            ]
        };

        // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ï‡πà‡∏≤‡∏á‡πÜ
        const scenarios = {
            gate_block: {
                title: '‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏Å‡∏ó‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å',
                description: '‡πÄ‡∏Å‡∏ó 3 ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÑ‡∏´‡∏•‡∏≠‡∏≠‡∏Å ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°',
                severity: 'critical',
                timeline: [
                    { phase: 'report', title: '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤', description: 'Production ‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô', completed: false },
                    { phase: 'investigate', title: '‡∏™‡∏∑‡∏ö‡∏™‡∏ß‡∏ô‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô', description: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô', completed: false },
                    { phase: 'analyze', title: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏', description: '‡∏´‡∏≤‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏≠‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤', completed: false },
                    { phase: 'plan', title: '‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç', description: '‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç', completed: false },
                    { phase: 'implement', title: '‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç', description: '‡∏•‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤', completed: false },
                    { phase: 'verify', title: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•', description: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ú‡∏•', completed: false },
                    { phase: 'prevent', title: '‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô', description: '‡∏ß‡∏≤‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏ã‡πâ‡∏≥', completed: false }
                ]
            },
            temp_spike: {
                title: '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏û‡∏∏‡πà‡∏á‡∏™‡∏π‡∏á',
                description: 'Zone 2 ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÑ‡∏´‡∏°‡πâ',
                severity: 'critical',
                timeline: [
                    { phase: 'alert', title: '‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏£‡∏∞‡∏ö‡∏ö', description: '‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á', completed: false },
                    { phase: 'shutdown', title: '‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô', description: '‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢', completed: false },
                    { phase: 'cool_down', title: '‡∏•‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥', description: '‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏•‡∏î‡∏•‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢', completed: false },
                    { phase: 'inspect', title: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå', description: '‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏≤‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥', completed: false },
                    { phase: 'repair', title: '‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°', description: '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö', completed: false },
                    { phase: 'test', title: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö', description: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏¥‡∏ï‡πÉ‡∏´‡∏°‡πà', completed: false }
                ]
            }
        };

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
        function initializeSystem() {
            updateTeamMembers();
            updateRoleContent();
            updateTimeline();
            addInitialMessages();
            
            // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
            setInterval(() => {
                timeElapsed++;
                updateTimeDisplay();
            }, 1000);
        }

        // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó
        function switchRole(role) {
            currentRole = role;
            
            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI
            document.querySelectorAll('.role-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-role="${role}"]`).classList.add('active');
            
            updateRoleContent();
            updateTeamMembers();
        }

        // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå
        function selectScenario(scenario) {
            currentScenario = scenario;
            scenarioProgress = 0;
            
            document.querySelectorAll('.scenario-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateTimeline();
            updateRoleContent();
            addChatMessage('system', `üé¨ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå: ${scenarios[scenario].title}`);
        }

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ï‡∏≤‡∏°‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó
        function updateRoleContent() {
            const container = document.getElementById('roleContent');
            const scenario = scenarios[currentScenario];
            
            let content = `
                <div class="panel-title">
                    ${getRoleIcon(currentRole)} ${getRoleTitle(currentRole)}
                </div>
                
                <div class="alert alert-${scenario.severity === 'critical' ? 'danger' : 'warning'}">
                    <strong>üö® ${scenario.title}</strong><br>
                    ${scenario.description}
                </div>
            `;
            
            content += getRoleSpecificContent();
            container.innerHTML = content;
        }

        // ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ï‡∏≤‡∏°‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó
        function getRoleSpecificContent() {
            switch(currentRole) {
                case 'production':
                    return getProductionContent();
                case 'engineer':
                    return getEngineerContent();
                case 'maintenance':
                    return getMaintenanceContent();
                case 'supplier':
                    return getSupplierContent();
                case 'manager':
                    return getManagerContent();
                default:
                    return '';
            }
        }

        function getProductionContent() {
            if (scenarioProgress === 0) {
                return `
                    <div class="problem-card">
                        <div class="status-badge critical">üî¥ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ß‡∏¥‡∏Å‡∏§‡∏ï</div>
                        <h4>üìã ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤</h4>
                        <p>‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô Production Operator ‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï</p>
                        
                        <div class="form-group">
                            <label class="form-label">üìù ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö</label>
                            <textarea class="form-input form-textarea" id="problemDescription" 
                                placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏Å‡∏ó 3 ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ ‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô 15 ‡∏ä‡∏¥‡πâ‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤</label>
                            <input type="time" class="form-input" id="problemTime" value="${getCurrentTime()}">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">üìä ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</label>
                            <select class="form-input" id="severity">
                                <option value="critical">üî¥ ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï - ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï</option>
                                <option value="high">üü° ‡∏™‡∏π‡∏á - ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</option>
                                <option value="medium">üü¢ ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á - ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÑ‡∏î‡πâ</option>
                            </select>
                        </div>
                        
                        <button class="btn btn-danger" onclick="reportProblem()">
                            üìû ‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡πâ Engineer
                        </button>
                    </div>
                `;
            } else {
                return `
                    <div class="problem-card in-progress">
                        <div class="status-badge in-progress">üü° ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</div>
                        <h4>üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</h4>
                        <p>‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡∏ó‡∏µ‡∏° Engineering ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</p>
                        
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${(scenarioProgress / scenarios[currentScenario].timeline.length) * 100}%"></div>
                        </div>
                        <p>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤: ${scenarioProgress}/${scenarios[currentScenario].timeline.length} ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</p>
                        
                        <h5>üìã ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÑ‡∏î‡πâ:</h5>
                        <button class="btn btn-primary" onclick="provideFeedback()">üí¨ ‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</button>
                        <button class="btn btn-warning" onclick="monitorProduction()">üëÄ ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï</button>
                    </div>
                `;
            }
        }

        function getEngineerContent() {
            if (scenarioProgress <= 1) {
                return `
                    <div class="problem-card">
                        <div class="status-badge critical">üî¥ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</div>
                        <h4>üîç ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</h4>
                        
                        <h5>üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Production:</h5>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p><strong>‡∏õ‡∏±‡∏ç‡∏´‡∏≤:</strong> ‡πÄ‡∏Å‡∏ó 3 ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÑ‡∏´‡∏•‡∏≠‡∏≠‡∏Å</p>
                            <p><strong>‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:</strong> ‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏° 15 ‡∏ä‡∏¥‡πâ‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</p>
                            <p><strong>‡πÄ‡∏ß‡∏•‡∏≤:</strong> ${getCurrentTime()}</p>
                        </div>
                        
                        <h5>üîß ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô:</h5>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <button class="btn btn-primary" onclick="checkTemperature()">üå°Ô∏è ‡∏ï‡∏£‡∏ß‡∏à‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</button>
                            <button class="btn btn-primary" onclick="checkPressure()">üí® ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô</button>
                            <button class="btn btn-primary" onclick="checkGateDesign()">‚öôÔ∏è ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏Å‡∏ó‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå</button>
                            <button class="btn btn-primary" onclick="checkMaterial()">üß™ ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏±‡∏™‡∏î‡∏∏</button>
                        </div>
                        
                        <div id="analysisResults" style="margin-top: 20px;">
                            <!-- ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                        </div>
                        
                        <button class="btn btn-success" onclick="requestMaintenance()" style="margin-top: 15px;">
                            üõ†Ô∏è ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ó‡∏µ‡∏° Maintenance
                        </button>
                    </div>
                `;
            } else {
                return `
                    <div class="problem-card in-progress">
                        <div class="status-badge in-progress">üü° ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</div>
                        <h4>üìä ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</h4>
                        
                        <h5>üéØ ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:</h5>
                        <div class="timeline">
                            <div class="timeline-item completed">
                                <strong>‚úÖ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:</strong> ‡∏û‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô‡πÉ‡∏ô‡πÄ‡∏Å‡∏ó 3
                            </div>
                            <div class="timeline-item current">
                                <strong>üîß ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:</strong> ‡∏ó‡∏µ‡∏° Maintenance ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÄ‡∏Å‡∏ó
                            </div>
                            <div class="timeline-item">
                                <strong>üìù ‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</strong> ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" onclick="coordinateRepair()">ü§ù ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°</button>
                        <button class="btn btn-success" onclick="contactSupplier()">üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Supplier</button>
                    </div>
                `;
            }
        }

        function getMaintenanceContent() {
            return `
                <div class="problem-card">
                    <div class="status-badge in-progress">üîß ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</div>
                    <h4>üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</h4>
                    
                    <h5>üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:</h5>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                        <label><input type="checkbox" id="check1"> ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô‡πÉ‡∏ô‡πÄ‡∏Å‡∏ó</label><br>
                        <label><input type="checkbox" id="check2"> ‚úÖ ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÄ‡∏Å‡∏ó</label><br>
                        <label><input type="checkbox" id="check3"> ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏´‡∏±‡∏ß‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô</label><br>
                        <label><input type="checkbox" id="check4"> ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</label><br>
                        <label><input type="checkbox" id="check5"> ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</label>
                    </div>
                    
                    <h5 style="margin-top: 20px;">üîß ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ:</h5>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <button class="btn btn-primary" onclick="getTools()">üß∞ ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠</button>
                        <button class="btn btn-primary" onclick="getSpareParts()">üî© ‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà</button>
                        <button class="btn btn-warning" onclick="requestShutdown()">‚èπÔ∏è ‡∏Ç‡∏≠‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</button>
                        <button class="btn btn-success" onclick="startRepair()">üîß ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ã‡πà‡∏≠‡∏°</button>
                    </div>
                    
                    <div class="form-group" style="margin-top: 20px;">
                        <label class="form-label">üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</label>
                        <textarea class="form-input form-textarea" placeholder="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°..."></textarea>
                    </div>
                </div>
            `;
        }

        function getSupplierContent() {
            return `
                <div class="problem-card">
                    <div class="status-badge in-progress">üè¢ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô</div>
                    <h4>ü§ù ‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</h4>
                    
                    <h5>üìä ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</h5>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                        <p><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏õ‡∏±‡∏ç‡∏´‡∏≤:</strong> Gate blocking in hot runner system</p>
                        <p><strong>‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á:</strong> HRS-2000 Series</p>
                        <p><strong>‡∏ß‡∏±‡∏™‡∏î‡∏∏:</strong> ABS ‡∏û‡∏¥‡πÄ‡∏®‡∏©</p>
                        <p><strong>‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:</strong> 245¬∞C</p>
                    </div>
                    
                    <h5>üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å Database:</h5>
                    <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; border-left: 4px solid #2196f3;">
                        <p><strong>‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ:</strong></p>
                        <ul>
                            <li>‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ</li>
                            <li>‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÄ‡∏Å‡∏ó‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
                            <li>‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÑ‡∏°‡πà‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠</li>
                        </ul>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 15px;">
                        <button class="btn btn-primary" onclick="provideTechnicalSupport()">üìö ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</button>
                        <button class="btn btn-success" onclick="sendSpareParts()">üì¶ ‡∏™‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà</button>
                        <button class="btn btn-warning" onclick="scheduleVisit()">üë®‚Äçüîß ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à</button>
                        <button class="btn btn-primary" onclick="updateDocumentation()">üìÑ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠</button>
                    </div>
                </div>
            `;
        }

        function getManagerContent() {
            return `
                <div class="problem-card">
                    <div class="status-badge critical">üëî ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à</div>
                    <h4>üìà ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°</h4>
                    
                    <h5>üìä ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï:</h5>
                    <div style="background: #fff3cd; padding: 15px; border-radius: 8px; border: 1px solid #ffeaa7;">
                        <p><strong>‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï:</strong> ${Math.floor(timeElapsed / 60)} ‡∏ô‡∏≤‡∏ó‡∏µ</p>
                        <p><strong>üì¶ ‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢:</strong> 15 ‡∏ä‡∏¥‡πâ‡∏ô</p>
                        <p><strong>üí∞ ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì:</strong> 12,000 ‡∏ö‡∏≤‡∏ó</p>
                        <p><strong>üë• ‡∏ó‡∏µ‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á:</strong> 8 ‡∏Ñ‡∏ô</p>
                    </div>
                    
                    <h5>‚ö° ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô:</h5>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <button class="btn btn-danger" onclick="approveShutdown()">‚èπÔ∏è ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</button>
                        <button class="btn btn-success" onclick="approveRepair()">‚úÖ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ã‡πà‡∏≠‡∏°</button>
                        <button class="btn btn-warning" onclick="allocateResources()">üë• ‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£‡∏ó‡∏µ‡∏°</button>
                        <button class="btn btn-primary" onclick="updateStakeholders()">üì¢ ‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á</button>
                    </div>
                    
                    <h5 style="margin-top: 20px;">üìã ‡πÅ‡∏ú‡∏ô‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô:</h5>
                    <textarea class="form-input form-textarea" placeholder="‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ã‡πâ‡∏≥..."></textarea>
                </div>
            `;
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ
        function reportProblem() {
            const description = document.getElementById('problemDescription').value;
            const time = document.getElementById('problemTime').value;
            const severity = document.getElementById('severity').value;
            
            if (!description) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö');
                return;
            }
            
            scenarioProgress = 1;
            updateTimeline();
            updateRoleContent();
            addChatMessage('production', `üö® ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ${description} ‡πÄ‡∏ß‡∏•‡∏≤ ${time} ‡∏£‡∏∞‡∏î‡∏±‡∏ö ${severity}`);
            addChatMessage('engineer', `‚úÖ ‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö`);
        }

        function checkTemperature() {
            addAnalysisResult('üå°Ô∏è ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥: Zone 3 = 238¬∞C (‡∏õ‡∏Å‡∏ï‡∏¥)', 'success');
        }

        function checkPressure() {
            addAnalysisResult('üí® ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô: 1250 bar (‡∏õ‡∏Å‡∏ï‡∏¥)', 'success');
        }

        function checkGateDesign() {
            addAnalysisResult('‚öôÔ∏è ‡πÄ‡∏Å‡∏ó‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå: ‡∏û‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏ó 3', 'danger');
        }

        function checkMaterial() {
            addAnalysisResult('üß™ ‡∏ß‡∏±‡∏™‡∏î‡∏∏: ABS ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô 0.08% (‡∏õ‡∏Å‡∏ï‡∏¥)', 'success');
        }

        function addAnalysisResult(text, type) {
            const container = document.getElementById('analysisResults');
            const div = document.createElement('div');
            div.className = `alert alert-${type}`;
            div.textContent = text;
            container.appendChild(div);
        }

        function requestMaintenance() {
            scenarioProgress = 2;
            updateTimeline();
            updateRoleContent();
            addChatMessage('engineer', `üõ†Ô∏è ‡∏û‡∏ö‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡πÅ‡∏•‡πâ‡∏ß: ‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏ó 3 ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡∏° Maintenance ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£`);
            addChatMessage('maintenance', `‚úÖ ‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ã‡πà‡∏≠‡∏°‡πÉ‡∏ô 15 ‡∏ô‡∏≤‡∏ó‡∏µ`);
        }

        function startRepair() {
            scenarioProgress = 4;
            updateTimeline();
            addChatMessage('maintenance', `üîß ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°: ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÄ‡∏Å‡∏ó 3`);
            
            setTimeout(() => {
                scenarioProgress = 5;
                updateTimeline();
                addChatMessage('maintenance', `‚úÖ ‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß: ‡πÄ‡∏Å‡∏ó 3 ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö`);
            }, 5000);
        }

        function contactSupplier() {
            addChatMessage('engineer', `üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Supplier ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°`);
            addChatMessage('supplier', `üè¢ Mr. Johnson ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥`);
        }

        function updateTeamMembers() {
            const container = document.getElementById('teamMembers');
            let html = '';
            
            Object.keys(teamMembers).forEach(role => {
                teamMembers[role].forEach(member => {
                    const statusClass = member.status === 'online' ? '' : 
                                      member.status === 'busy' ? 'busy' : 'offline';
                    
                    html += `
                        <div class="team-member">
                            <div class="avatar">${member.name.charAt(0)}</div>
                            <div class="member-info">
                                <div class="member-name">${member.name}</div>
                                <div class="member-role">${member.role}</div>
                            </div>
                            <div class="status-indicator ${statusClass}"></div>
                        </div>
                    `;
                });
            });
            
            container.innerHTML = html;
        }

        function updateTimeline() {
            const container = document.getElementById('timelineContainer');
            const scenario = scenarios[currentScenario];
            let html = '<div class="timeline">';
            
            scenario.timeline.forEach((item, index) => {
                const isCompleted = index < scenarioProgress;
                const isCurrent = index === scenarioProgress;
                const className = isCompleted ? 'completed' : (isCurrent ? 'current' : '');
                
                html += `
                    <div class="timeline-item ${className}">
                        <strong>${item.title}</strong><br>
                        <small>${item.description}</small>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        function addChatMessage(role, message) {
            const container = document.getElementById('chatContainer');
            const time = new Date().toLocaleTimeString('th-TH', { hour: '2-digit', minute: '2-digit' });
            
            const div = document.createElement('div');
            div.className = 'chat-message';
            div.innerHTML = `
                <div class="message-header">
                    <span class="message-author">${getRoleTitle(role)}</span>
                    <span class="message-time">${time}</span>
                </div>
                <div>${message}</div>
            `;
            
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }

        function addInitialMessages() {
            addChatMessage('system', 'üè≠ ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á');
            addChatMessage('manager', 'üëî ‡∏ó‡∏µ‡∏°‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ');
        }

        function getRoleIcon(role) {
            const icons = {
                production: 'üë∑‚Äç‚ôÇÔ∏è',
                engineer: 'üîß',
                maintenance: 'üõ†Ô∏è',
                supplier: 'üè¢',
                manager: 'üëî'
            };
            return icons[role] || 'üë§';
        }

        function getRoleTitle(role) {
            const titles = {
                production: 'Production Operator',
                engineer: 'Process Engineer',
                maintenance: 'Maintenance Engineer',
                supplier: 'Supplier Support',
                manager: 'Production Manager',
                system: '‡∏£‡∏∞‡∏ö‡∏ö'
            };
            return titles[role] || role;
        }

        function getCurrentTime() {
            return new Date().toLocaleTimeString('th-TH', { hour: '2-digit', minute: '2-digit' });
        }

        function updateTimeDisplay() {
            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö
        function provideFeedback() {
            const feedback = prompt('‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏à‡∏≤‡∏Å Production:');
            if (feedback) {
                addChatMessage('production', `üí¨ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: ${feedback}`);
            }
        }

        function monitorProduction() {
            addChatMessage('production', 'üëÄ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï... ‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°‡πÉ‡∏ô‡πÄ‡∏Å‡∏ó 3');
        }

        function coordinateRepair() {
            addChatMessage('engineer', 'ü§ù ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡∏° Maintenance ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°');
        }

        function provideTechnicalSupport() {
            addChatMessage('supplier', 'üìö ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ Gate ‡∏ó‡∏∏‡∏Å 500 ‡∏ä‡∏¥‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ Purging compound ‡∏ó‡∏∏‡∏Å‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå');
        }

        function approveShutdown() {
            addChatMessage('manager', '‚èπÔ∏è ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏° ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç');
        }

        function approveRepair() {
            addChatMessage('manager', '‚úÖ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ã‡πà‡∏≠‡∏° 50,000 ‡∏ö‡∏≤‡∏ó ‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ OT ‡∏ó‡∏µ‡∏° Maintenance');
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
        initializeSystem();
    </script>
</body>
</html>